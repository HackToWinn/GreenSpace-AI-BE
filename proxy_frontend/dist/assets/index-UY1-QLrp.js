(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function r(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(u){if(u.ep)return;u.ep=!0;const l=r(u);fetch(u.href,l)}})();var ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ds(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var er={},xt={},rn;function ui(){if(rn)return xt;rn=1,xt.byteLength=o,xt.toByteArray=_,xt.fromByteArray=N;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=c.length;u<l;++u)t[u]=c[u],e[c.charCodeAt(u)]=u;e[45]=62,e[95]=63;function p(U){var H=U.length;if(H%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=U.indexOf("=");$===-1&&($=H);var G=$===H?0:4-$%4;return[$,G]}function o(U){var H=p(U),$=H[0],G=H[1];return($+G)*3/4-G}function x(U,H,$){return(H+$)*3/4-$}function _(U){var H,$=p(U),G=$[0],j=$[1],Y=new r(x(U,G,j)),X=0,se=j>0?G-4:G,K;for(K=0;K<se;K+=4)H=e[U.charCodeAt(K)]<<18|e[U.charCodeAt(K+1)]<<12|e[U.charCodeAt(K+2)]<<6|e[U.charCodeAt(K+3)],Y[X++]=H>>16&255,Y[X++]=H>>8&255,Y[X++]=H&255;return j===2&&(H=e[U.charCodeAt(K)]<<2|e[U.charCodeAt(K+1)]>>4,Y[X++]=H&255),j===1&&(H=e[U.charCodeAt(K)]<<10|e[U.charCodeAt(K+1)]<<4|e[U.charCodeAt(K+2)]>>2,Y[X++]=H>>8&255,Y[X++]=H&255),Y}function F(U){return t[U>>18&63]+t[U>>12&63]+t[U>>6&63]+t[U&63]}function w(U,H,$){for(var G,j=[],Y=H;Y<$;Y+=3)G=(U[Y]<<16&16711680)+(U[Y+1]<<8&65280)+(U[Y+2]&255),j.push(F(G));return j.join("")}function N(U){for(var H,$=U.length,G=$%3,j=[],Y=16383,X=0,se=$-G;X<se;X+=Y)j.push(w(U,X,X+Y>se?se:X+Y));return G===1?(H=U[$-1],j.push(t[H>>2]+t[H<<4&63]+"==")):G===2&&(H=(U[$-2]<<8)+U[$-1],j.push(t[H>>10]+t[H>>4&63]+t[H<<2&63]+"=")),j.join("")}return xt}var vt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var nn;function Cr(){return nn||(nn=1,vt.read=function(t,e,r,c,u){var l,p,o=u*8-c-1,x=(1<<o)-1,_=x>>1,F=-7,w=r?u-1:0,N=r?-1:1,U=t[e+w];for(w+=N,l=U&(1<<-F)-1,U>>=-F,F+=o;F>0;l=l*256+t[e+w],w+=N,F-=8);for(p=l&(1<<-F)-1,l>>=-F,F+=c;F>0;p=p*256+t[e+w],w+=N,F-=8);if(l===0)l=1-_;else{if(l===x)return p?NaN:(U?-1:1)*(1/0);p=p+Math.pow(2,c),l=l-_}return(U?-1:1)*p*Math.pow(2,l-c)},vt.write=function(t,e,r,c,u,l){var p,o,x,_=l*8-u-1,F=(1<<_)-1,w=F>>1,N=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,U=c?0:l-1,H=c?1:-1,$=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,p=F):(p=Math.floor(Math.log(e)/Math.LN2),e*(x=Math.pow(2,-p))<1&&(p--,x*=2),p+w>=1?e+=N/x:e+=N*Math.pow(2,1-w),e*x>=2&&(p++,x/=2),p+w>=F?(o=0,p=F):p+w>=1?(o=(e*x-1)*Math.pow(2,u),p=p+w):(o=e*Math.pow(2,w-1)*Math.pow(2,u),p=0));u>=8;t[r+U]=o&255,U+=H,o/=256,u-=8);for(p=p<<u|o,_+=u;_>0;t[r+U]=p&255,U+=H,p/=256,_-=8);t[r+U-H]|=$*128}),vt}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var sn;function ps(){return sn||(sn=1,function(t){const e=ui(),r=Cr(),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=Y,t.INSPECT_MAX_BYTES=50;const u=2147483647;t.kMaxLength=u,o.TYPED_ARRAY_SUPPORT=l(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const h=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(h,s),h.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function p(h){if(h>u)throw new RangeError('The value "'+h+'" is invalid for option "size"');const s=new Uint8Array(h);return Object.setPrototypeOf(s,o.prototype),s}function o(h,s,a){if(typeof h=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(h)}return x(h,s,a)}o.poolSize=8192;function x(h,s,a){if(typeof h=="string")return N(h,s);if(ArrayBuffer.isView(h))return H(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(D(h,ArrayBuffer)||h&&D(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(D(h,SharedArrayBuffer)||h&&D(h.buffer,SharedArrayBuffer)))return $(h,s,a);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const m=h.valueOf&&h.valueOf();if(m!=null&&m!==h)return o.from(m,s,a);const v=G(h);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return o.from(h[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}o.from=function(h,s,a){return x(h,s,a)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function _(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function F(h,s,a){return _(h),h<=0?p(h):s!==void 0?typeof a=="string"?p(h).fill(s,a):p(h).fill(s):p(h)}o.alloc=function(h,s,a){return F(h,s,a)};function w(h){return _(h),p(h<0?0:j(h)|0)}o.allocUnsafe=function(h){return w(h)},o.allocUnsafeSlow=function(h){return w(h)};function N(h,s){if((typeof s!="string"||s==="")&&(s="utf8"),!o.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=X(h,s)|0;let m=p(a);const v=m.write(h,s);return v!==a&&(m=m.slice(0,v)),m}function U(h){const s=h.length<0?0:j(h.length)|0,a=p(s);for(let m=0;m<s;m+=1)a[m]=h[m]&255;return a}function H(h){if(D(h,Uint8Array)){const s=new Uint8Array(h);return $(s.buffer,s.byteOffset,s.byteLength)}return U(h)}function $(h,s,a){if(s<0||h.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let m;return s===void 0&&a===void 0?m=new Uint8Array(h):a===void 0?m=new Uint8Array(h,s):m=new Uint8Array(h,s,a),Object.setPrototypeOf(m,o.prototype),m}function G(h){if(o.isBuffer(h)){const s=j(h.length)|0,a=p(s);return a.length===0||h.copy(a,0,0,s),a}if(h.length!==void 0)return typeof h.length!="number"||V(h.length)?p(0):U(h);if(h.type==="Buffer"&&Array.isArray(h.data))return U(h.data)}function j(h){if(h>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return h|0}function Y(h){return+h!=h&&(h=0),o.alloc(+h)}o.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==o.prototype},o.compare=function(s,a){if(D(s,Uint8Array)&&(s=o.from(s,s.offset,s.byteLength)),D(a,Uint8Array)&&(a=o.from(a,a.offset,a.byteLength)),!o.isBuffer(s)||!o.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let m=s.length,v=a.length;for(let C=0,P=Math.min(m,v);C<P;++C)if(s[C]!==a[C]){m=s[C],v=a[C];break}return m<v?-1:v<m?1:0},o.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return o.alloc(0);let m;if(a===void 0)for(a=0,m=0;m<s.length;++m)a+=s[m].length;const v=o.allocUnsafe(a);let C=0;for(m=0;m<s.length;++m){let P=s[m];if(D(P,Uint8Array))C+P.length>v.length?(o.isBuffer(P)||(P=o.from(P)),P.copy(v,C)):Uint8Array.prototype.set.call(v,P,C);else if(o.isBuffer(P))P.copy(v,C);else throw new TypeError('"list" argument must be an Array of Buffers');C+=P.length}return v};function X(h,s){if(o.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||D(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);const a=h.length,m=arguments.length>2&&arguments[2]===!0;if(!m&&a===0)return 0;let v=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return n(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return y(h).length;default:if(v)return m?-1:n(h).length;s=(""+s).toLowerCase(),v=!0}}o.byteLength=X;function se(h,s,a){let m=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(h||(h="utf8");;)switch(h){case"hex":return Ie(this,s,a);case"utf8":case"utf-8":return q(this,s,a);case"ascii":return fe(this,s,a);case"latin1":case"binary":return pe(this,s,a);case"base64":return I(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,s,a);default:if(m)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),m=!0}}o.prototype._isBuffer=!0;function K(h,s,a){const m=h[s];h[s]=h[a],h[a]=m}o.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)K(this,a,a+1);return this},o.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)K(this,a,a+3),K(this,a+1,a+2);return this},o.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)K(this,a,a+7),K(this,a+1,a+6),K(this,a+2,a+5),K(this,a+3,a+4);return this},o.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?q(this,0,s):se.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(s){if(!o.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:o.compare(this,s)===0},o.prototype.inspect=function(){let s="";const a=t.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},c&&(o.prototype[c]=o.prototype.inspect),o.prototype.compare=function(s,a,m,v,C){if(D(s,Uint8Array)&&(s=o.from(s,s.offset,s.byteLength)),!o.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),m===void 0&&(m=s?s.length:0),v===void 0&&(v=0),C===void 0&&(C=this.length),a<0||m>s.length||v<0||C>this.length)throw new RangeError("out of range index");if(v>=C&&a>=m)return 0;if(v>=C)return-1;if(a>=m)return 1;if(a>>>=0,m>>>=0,v>>>=0,C>>>=0,this===s)return 0;let P=C-v,ae=m-a;const de=Math.min(P,ae),ce=this.slice(v,C),oe=s.slice(a,m);for(let xe=0;xe<de;++xe)if(ce[xe]!==oe[xe]){P=ce[xe],ae=oe[xe];break}return P<ae?-1:ae<P?1:0};function z(h,s,a,m,v){if(h.length===0)return-1;if(typeof a=="string"?(m=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,V(a)&&(a=v?0:h.length-1),a<0&&(a=h.length+a),a>=h.length){if(v)return-1;a=h.length-1}else if(a<0)if(v)a=0;else return-1;if(typeof s=="string"&&(s=o.from(s,m)),o.isBuffer(s))return s.length===0?-1:W(h,s,a,m,v);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(h,s,a):Uint8Array.prototype.lastIndexOf.call(h,s,a):W(h,[s],a,m,v);throw new TypeError("val must be string, number or Buffer")}function W(h,s,a,m,v){let C=1,P=h.length,ae=s.length;if(m!==void 0&&(m=String(m).toLowerCase(),m==="ucs2"||m==="ucs-2"||m==="utf16le"||m==="utf-16le")){if(h.length<2||s.length<2)return-1;C=2,P/=2,ae/=2,a/=2}function de(oe,xe){return C===1?oe[xe]:oe.readUInt16BE(xe*C)}let ce;if(v){let oe=-1;for(ce=a;ce<P;ce++)if(de(h,ce)===de(s,oe===-1?0:ce-oe)){if(oe===-1&&(oe=ce),ce-oe+1===ae)return oe*C}else oe!==-1&&(ce-=ce-oe),oe=-1}else for(a+ae>P&&(a=P-ae),ce=a;ce>=0;ce--){let oe=!0;for(let xe=0;xe<ae;xe++)if(de(h,ce+xe)!==de(s,xe)){oe=!1;break}if(oe)return ce}return-1}o.prototype.includes=function(s,a,m){return this.indexOf(s,a,m)!==-1},o.prototype.indexOf=function(s,a,m){return z(this,s,a,m,!0)},o.prototype.lastIndexOf=function(s,a,m){return z(this,s,a,m,!1)};function S(h,s,a,m){a=Number(a)||0;const v=h.length-a;m?(m=Number(m),m>v&&(m=v)):m=v;const C=s.length;m>C/2&&(m=C/2);let P;for(P=0;P<m;++P){const ae=parseInt(s.substr(P*2,2),16);if(V(ae))return P;h[a+P]=ae}return P}function k(h,s,a,m){return A(n(s,h.length-a),h,a,m)}function M(h,s,a,m){return A(i(s),h,a,m)}function J(h,s,a,m){return A(y(s),h,a,m)}function te(h,s,a,m){return A(d(s,h.length-a),h,a,m)}o.prototype.write=function(s,a,m,v){if(a===void 0)v="utf8",m=this.length,a=0;else if(m===void 0&&typeof a=="string")v=a,m=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(m)?(m=m>>>0,v===void 0&&(v="utf8")):(v=m,m=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const C=this.length-a;if((m===void 0||m>C)&&(m=C),s.length>0&&(m<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");let P=!1;for(;;)switch(v){case"hex":return S(this,s,a,m);case"utf8":case"utf-8":return k(this,s,a,m);case"ascii":case"latin1":case"binary":return M(this,s,a,m);case"base64":return J(this,s,a,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,s,a,m);default:if(P)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),P=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(h,s,a){return s===0&&a===h.length?e.fromByteArray(h):e.fromByteArray(h.slice(s,a))}function q(h,s,a){a=Math.min(h.length,a);const m=[];let v=s;for(;v<a;){const C=h[v];let P=null,ae=C>239?4:C>223?3:C>191?2:1;if(v+ae<=a){let de,ce,oe,xe;switch(ae){case 1:C<128&&(P=C);break;case 2:de=h[v+1],(de&192)===128&&(xe=(C&31)<<6|de&63,xe>127&&(P=xe));break;case 3:de=h[v+1],ce=h[v+2],(de&192)===128&&(ce&192)===128&&(xe=(C&15)<<12|(de&63)<<6|ce&63,xe>2047&&(xe<55296||xe>57343)&&(P=xe));break;case 4:de=h[v+1],ce=h[v+2],oe=h[v+3],(de&192)===128&&(ce&192)===128&&(oe&192)===128&&(xe=(C&15)<<18|(de&63)<<12|(ce&63)<<6|oe&63,xe>65535&&xe<1114112&&(P=xe))}}P===null?(P=65533,ae=1):P>65535&&(P-=65536,m.push(P>>>10&1023|55296),P=56320|P&1023),m.push(P),v+=ae}return re(m)}const Z=4096;function re(h){const s=h.length;if(s<=Z)return String.fromCharCode.apply(String,h);let a="",m=0;for(;m<s;)a+=String.fromCharCode.apply(String,h.slice(m,m+=Z));return a}function fe(h,s,a){let m="";a=Math.min(h.length,a);for(let v=s;v<a;++v)m+=String.fromCharCode(h[v]&127);return m}function pe(h,s,a){let m="";a=Math.min(h.length,a);for(let v=s;v<a;++v)m+=String.fromCharCode(h[v]);return m}function Ie(h,s,a){const m=h.length;(!s||s<0)&&(s=0),(!a||a<0||a>m)&&(a=m);let v="";for(let C=s;C<a;++C)v+=Q[h[C]];return v}function Se(h,s,a){const m=h.slice(s,a);let v="";for(let C=0;C<m.length-1;C+=2)v+=String.fromCharCode(m[C]+m[C+1]*256);return v}o.prototype.slice=function(s,a){const m=this.length;s=~~s,a=a===void 0?m:~~a,s<0?(s+=m,s<0&&(s=0)):s>m&&(s=m),a<0?(a+=m,a<0&&(a=0)):a>m&&(a=m),a<s&&(a=s);const v=this.subarray(s,a);return Object.setPrototypeOf(v,o.prototype),v};function ue(h,s,a){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+s>a)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(s,a,m){s=s>>>0,a=a>>>0,m||ue(s,a,this.length);let v=this[s],C=1,P=0;for(;++P<a&&(C*=256);)v+=this[s+P]*C;return v},o.prototype.readUintBE=o.prototype.readUIntBE=function(s,a,m){s=s>>>0,a=a>>>0,m||ue(s,a,this.length);let v=this[s+--a],C=1;for(;a>0&&(C*=256);)v+=this[s+--a]*C;return v},o.prototype.readUint8=o.prototype.readUInt8=function(s,a){return s=s>>>0,a||ue(s,1,this.length),this[s]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||ue(s,2,this.length),this[s]|this[s+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||ue(s,2,this.length),this[s]<<8|this[s+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||ue(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||ue(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},o.prototype.readBigUInt64LE=ne(function(s){s=s>>>0,O(s,"offset");const a=this[s],m=this[s+7];(a===void 0||m===void 0)&&R(s,this.length-8);const v=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,C=this[++s]+this[++s]*2**8+this[++s]*2**16+m*2**24;return BigInt(v)+(BigInt(C)<<BigInt(32))}),o.prototype.readBigUInt64BE=ne(function(s){s=s>>>0,O(s,"offset");const a=this[s],m=this[s+7];(a===void 0||m===void 0)&&R(s,this.length-8);const v=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],C=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+m;return(BigInt(v)<<BigInt(32))+BigInt(C)}),o.prototype.readIntLE=function(s,a,m){s=s>>>0,a=a>>>0,m||ue(s,a,this.length);let v=this[s],C=1,P=0;for(;++P<a&&(C*=256);)v+=this[s+P]*C;return C*=128,v>=C&&(v-=Math.pow(2,8*a)),v},o.prototype.readIntBE=function(s,a,m){s=s>>>0,a=a>>>0,m||ue(s,a,this.length);let v=a,C=1,P=this[s+--v];for(;v>0&&(C*=256);)P+=this[s+--v]*C;return C*=128,P>=C&&(P-=Math.pow(2,8*a)),P},o.prototype.readInt8=function(s,a){return s=s>>>0,a||ue(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},o.prototype.readInt16LE=function(s,a){s=s>>>0,a||ue(s,2,this.length);const m=this[s]|this[s+1]<<8;return m&32768?m|4294901760:m},o.prototype.readInt16BE=function(s,a){s=s>>>0,a||ue(s,2,this.length);const m=this[s+1]|this[s]<<8;return m&32768?m|4294901760:m},o.prototype.readInt32LE=function(s,a){return s=s>>>0,a||ue(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},o.prototype.readInt32BE=function(s,a){return s=s>>>0,a||ue(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},o.prototype.readBigInt64LE=ne(function(s){s=s>>>0,O(s,"offset");const a=this[s],m=this[s+7];(a===void 0||m===void 0)&&R(s,this.length-8);const v=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(m<<24);return(BigInt(v)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),o.prototype.readBigInt64BE=ne(function(s){s=s>>>0,O(s,"offset");const a=this[s],m=this[s+7];(a===void 0||m===void 0)&&R(s,this.length-8);const v=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(v)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+m)}),o.prototype.readFloatLE=function(s,a){return s=s>>>0,a||ue(s,4,this.length),r.read(this,s,!0,23,4)},o.prototype.readFloatBE=function(s,a){return s=s>>>0,a||ue(s,4,this.length),r.read(this,s,!1,23,4)},o.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||ue(s,8,this.length),r.read(this,s,!0,52,8)},o.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||ue(s,8,this.length),r.read(this,s,!1,52,8)};function he(h,s,a,m,v,C){if(!o.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>v||s<C)throw new RangeError('"value" argument is out of bounds');if(a+m>h.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(s,a,m,v){if(s=+s,a=a>>>0,m=m>>>0,!v){const ae=Math.pow(2,8*m)-1;he(this,s,a,m,ae,0)}let C=1,P=0;for(this[a]=s&255;++P<m&&(C*=256);)this[a+P]=s/C&255;return a+m},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(s,a,m,v){if(s=+s,a=a>>>0,m=m>>>0,!v){const ae=Math.pow(2,8*m)-1;he(this,s,a,m,ae,0)}let C=m-1,P=1;for(this[a+C]=s&255;--C>=0&&(P*=256);)this[a+C]=s/P&255;return a+m},o.prototype.writeUint8=o.prototype.writeUInt8=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,1,255,0),this[a]=s&255,a+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function Le(h,s,a,m,v){B(s,m,v,h,a,7);let C=Number(s&BigInt(4294967295));h[a++]=C,C=C>>8,h[a++]=C,C=C>>8,h[a++]=C,C=C>>8,h[a++]=C;let P=Number(s>>BigInt(32)&BigInt(4294967295));return h[a++]=P,P=P>>8,h[a++]=P,P=P>>8,h[a++]=P,P=P>>8,h[a++]=P,a}function b(h,s,a,m,v){B(s,m,v,h,a,7);let C=Number(s&BigInt(4294967295));h[a+7]=C,C=C>>8,h[a+6]=C,C=C>>8,h[a+5]=C,C=C>>8,h[a+4]=C;let P=Number(s>>BigInt(32)&BigInt(4294967295));return h[a+3]=P,P=P>>8,h[a+2]=P,P=P>>8,h[a+1]=P,P=P>>8,h[a]=P,a+8}o.prototype.writeBigUInt64LE=ne(function(s,a=0){return Le(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ne(function(s,a=0){return b(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(s,a,m,v){if(s=+s,a=a>>>0,!v){const de=Math.pow(2,8*m-1);he(this,s,a,m,de-1,-de)}let C=0,P=1,ae=0;for(this[a]=s&255;++C<m&&(P*=256);)s<0&&ae===0&&this[a+C-1]!==0&&(ae=1),this[a+C]=(s/P>>0)-ae&255;return a+m},o.prototype.writeIntBE=function(s,a,m,v){if(s=+s,a=a>>>0,!v){const de=Math.pow(2,8*m-1);he(this,s,a,m,de-1,-de)}let C=m-1,P=1,ae=0;for(this[a+C]=s&255;--C>=0&&(P*=256);)s<0&&ae===0&&this[a+C+1]!==0&&(ae=1),this[a+C]=(s/P>>0)-ae&255;return a+m},o.prototype.writeInt8=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},o.prototype.writeInt16LE=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},o.prototype.writeInt16BE=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},o.prototype.writeInt32LE=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},o.prototype.writeInt32BE=function(s,a,m){return s=+s,a=a>>>0,m||he(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},o.prototype.writeBigInt64LE=ne(function(s,a=0){return Le(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ne(function(s,a=0){return b(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Re(h,s,a,m,v,C){if(a+m>h.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function De(h,s,a,m,v){return s=+s,a=a>>>0,v||Re(h,s,a,4),r.write(h,s,a,m,23,4),a+4}o.prototype.writeFloatLE=function(s,a,m){return De(this,s,a,!0,m)},o.prototype.writeFloatBE=function(s,a,m){return De(this,s,a,!1,m)};function Pe(h,s,a,m,v){return s=+s,a=a>>>0,v||Re(h,s,a,8),r.write(h,s,a,m,52,8),a+8}o.prototype.writeDoubleLE=function(s,a,m){return Pe(this,s,a,!0,m)},o.prototype.writeDoubleBE=function(s,a,m){return Pe(this,s,a,!1,m)},o.prototype.copy=function(s,a,m,v){if(!o.isBuffer(s))throw new TypeError("argument should be a Buffer");if(m||(m=0),!v&&v!==0&&(v=this.length),a>=s.length&&(a=s.length),a||(a=0),v>0&&v<m&&(v=m),v===m||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(m<0||m>=this.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),s.length-a<v-m&&(v=s.length-a+m);const C=v-m;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,m,v):Uint8Array.prototype.set.call(s,this.subarray(m,v),a),C},o.prototype.fill=function(s,a,m,v){if(typeof s=="string"){if(typeof a=="string"?(v=a,a=0,m=this.length):typeof m=="string"&&(v=m,m=this.length),v!==void 0&&typeof v!="string")throw new TypeError("encoding must be a string");if(typeof v=="string"&&!o.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(s.length===1){const P=s.charCodeAt(0);(v==="utf8"&&P<128||v==="latin1")&&(s=P)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<m)throw new RangeError("Out of range index");if(m<=a)return this;a=a>>>0,m=m===void 0?this.length:m>>>0,s||(s=0);let C;if(typeof s=="number")for(C=a;C<m;++C)this[C]=s;else{const P=o.isBuffer(s)?s:o.from(s,v),ae=P.length;if(ae===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(C=0;C<m-a;++C)this[C+a]=P[C%ae]}return this};const ee={};function ie(h,s,a){ee[h]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(v){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:v,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}ie("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ie("ERR_INVALID_ARG_TYPE",function(h,s){return`The "${h}" argument must be of type number. Received type ${typeof s}`},TypeError),ie("ERR_OUT_OF_RANGE",function(h,s,a){let m=`The value of "${h}" is out of range.`,v=a;return Number.isInteger(a)&&Math.abs(a)>2**32?v=g(String(a)):typeof a=="bigint"&&(v=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(v=g(v)),v+="n"),m+=` It must be ${s}. Received ${v}`,m},RangeError);function g(h){let s="",a=h.length;const m=h[0]==="-"?1:0;for(;a>=m+4;a-=3)s=`_${h.slice(a-3,a)}${s}`;return`${h.slice(0,a)}${s}`}function E(h,s,a){O(s,"offset"),(h[s]===void 0||h[s+a]===void 0)&&R(s,h.length-(a+1))}function B(h,s,a,m,v,C){if(h>a||h<s){const P=typeof s=="bigint"?"n":"";let ae;throw s===0||s===BigInt(0)?ae=`>= 0${P} and < 2${P} ** ${(C+1)*8}${P}`:ae=`>= -(2${P} ** ${(C+1)*8-1}${P}) and < 2 ** ${(C+1)*8-1}${P}`,new ee.ERR_OUT_OF_RANGE("value",ae,h)}E(m,v,C)}function O(h,s){if(typeof h!="number")throw new ee.ERR_INVALID_ARG_TYPE(s,"number",h)}function R(h,s,a){throw Math.floor(h)!==h?(O(h,a),new ee.ERR_OUT_OF_RANGE("offset","an integer",h)):s<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${s}`,h)}const L=/[^+/0-9A-Za-z-_]/g;function f(h){if(h=h.split("=")[0],h=h.trim().replace(L,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function n(h,s){s=s||1/0;let a;const m=h.length;let v=null;const C=[];for(let P=0;P<m;++P){if(a=h.charCodeAt(P),a>55295&&a<57344){if(!v){if(a>56319){(s-=3)>-1&&C.push(239,191,189);continue}else if(P+1===m){(s-=3)>-1&&C.push(239,191,189);continue}v=a;continue}if(a<56320){(s-=3)>-1&&C.push(239,191,189),v=a;continue}a=(v-55296<<10|a-56320)+65536}else v&&(s-=3)>-1&&C.push(239,191,189);if(v=null,a<128){if((s-=1)<0)break;C.push(a)}else if(a<2048){if((s-=2)<0)break;C.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;C.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;C.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return C}function i(h){const s=[];for(let a=0;a<h.length;++a)s.push(h.charCodeAt(a)&255);return s}function d(h,s){let a,m,v;const C=[];for(let P=0;P<h.length&&!((s-=2)<0);++P)a=h.charCodeAt(P),m=a>>8,v=a%256,C.push(v),C.push(m);return C}function y(h){return e.toByteArray(f(h))}function A(h,s,a,m){let v;for(v=0;v<m&&!(v+a>=s.length||v>=h.length);++v)s[v+a]=h[v];return v}function D(h,s){return h instanceof s||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===s.name}function V(h){return h!==h}const Q=function(){const h="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const m=a*16;for(let v=0;v<16;++v)s[m+v]=h[a]+h[v]}return s}();function ne(h){return typeof BigInt>"u"?le:h}function le(){throw new Error("BigInt not supported")}}(er)),er}ps();var on;(function(t){t[t.SysFatal=1]="SysFatal",t[t.SysTransient=2]="SysTransient",t[t.DestinationInvalid=3]="DestinationInvalid",t[t.CanisterReject=4]="CanisterReject",t[t.CanisterError=5]="CanisterError"})(on||(on={}));const Ht="abcdefghijklmnopqrstuvwxyz234567",wt=Object.create(null);for(let t=0;t<Ht.length;t++)wt[Ht[t]]=t;wt[0]=wt.o;wt[1]=wt.i;function ws(t){let e=0,r=0,c="";function u(l){return e<0?r|=l>>-e:r=l<<e&248,e>3?(e-=8,1):(e<4&&(c+=Ht[r>>3],e+=5),0)}for(let l=0;l<t.length;)l+=u(t[l]);return c+(e<0?Ht[r>>3]:"")}function ys(t){let e=0,r=0;const c=new Uint8Array(t.length*4/3|0);let u=0;function l(p){let o=wt[p.toLowerCase()];if(o===void 0)throw new Error(`Invalid character: ${JSON.stringify(p)}`);o<<=3,r|=o>>>e,e+=5,e>=8&&(c[u++]=r,e-=8,e>0?r=o<<5-e&255:r=0)}for(const p of t)l(p);return c.slice(0,u)}const gs=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function xs(t){const e=new Uint8Array(t);let r=-1;for(let c=0;c<e.length;c++){const l=(e[c]^r)&255;r=gs[l]^r>>>8}return(r^-1)>>>0}const ut=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ci(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ms(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ot(t,...e){if(!ci(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function an(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bs(t,e){ot(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function At(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function tr(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Me(t,e){return t<<32-e|t>>>e}const fi=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Es=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kr(t){if(ot(t),fi)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Es[t[r]];return e}const He={_0:48,_9:57,A:65,F:70,a:97,f:102};function un(t){if(t>=He._0&&t<=He._9)return t-He._0;if(t>=He.A&&t<=He.F)return t-(He.A-10);if(t>=He.a&&t<=He.f)return t-(He.a-10)}function hi(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(fi)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const c=new Uint8Array(r);for(let u=0,l=0;u<r;u++,l+=2){const p=un(t.charCodeAt(l)),o=un(t.charCodeAt(l+1));if(p===void 0||o===void 0){const x=t[l]+t[l+1];throw new Error('hex string expected, got non-hex character "'+x+'" at index '+l)}c[u]=p*16+o}return c}function _s(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function li(t){return typeof t=="string"&&(t=_s(t)),ot(t),t}function cn(...t){let e=0;for(let c=0;c<t.length;c++){const u=t[c];ot(u),e+=u.length}const r=new Uint8Array(e);for(let c=0,u=0;c<t.length;c++){const l=t[c];r.set(l,u),u+=l.length}return r}class Is{}function Gr(t){const e=c=>t().update(li(c)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function As(t=32){if(ut&&typeof ut.getRandomValues=="function")return ut.getRandomValues(new Uint8Array(t));if(ut&&typeof ut.randomBytes=="function")return Uint8Array.from(ut.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Bs(t,e,r,c){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,c);const u=BigInt(32),l=BigInt(4294967295),p=Number(r>>u&l),o=Number(r&l),x=c?4:0,_=c?0:4;t.setUint32(e+x,p,c),t.setUint32(e+_,o,c)}function Ss(t,e,r){return t&e^~t&r}function Ts(t,e,r){return t&e^t&r^e&r}class di extends Is{constructor(e,r,c,u){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=c,this.isLE=u,this.buffer=new Uint8Array(e),this.view=tr(this.buffer)}update(e){an(this),e=li(e),ot(e);const{view:r,buffer:c,blockLen:u}=this,l=e.length;for(let p=0;p<l;){const o=Math.min(u-this.pos,l-p);if(o===u){const x=tr(e);for(;u<=l-p;p+=u)this.process(x,p);continue}c.set(e.subarray(p,p+o),this.pos),this.pos+=o,p+=o,this.pos===u&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){an(this),bs(e,this),this.finished=!0;const{buffer:r,view:c,blockLen:u,isLE:l}=this;let{pos:p}=this;r[p++]=128,At(this.buffer.subarray(p)),this.padOffset>u-p&&(this.process(c,0),p=0);for(let w=p;w<u;w++)r[w]=0;Bs(c,u-8,BigInt(this.length*8),l),this.process(c,0);const o=tr(e),x=this.outputLen;if(x%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const _=x/4,F=this.get();if(_>F.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<_;w++)o.setUint32(4*w,F[w],l)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const c=e.slice(0,r);return this.destroy(),c}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:c,length:u,finished:l,destroyed:p,pos:o}=this;return e.destroyed=p,e.finished=l,e.length=u,e.pos=o,u%r&&e.buffer.set(c),e}clone(){return this._cloneInto()}}const Ye=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),We=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Te=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ft=BigInt(2**32-1),fn=BigInt(32);function Us(t,e=!1){return e?{h:Number(t&Ft),l:Number(t>>fn&Ft)}:{h:Number(t>>fn&Ft)|0,l:Number(t&Ft)|0}}function Ns(t,e=!1){const r=t.length;let c=new Uint32Array(r),u=new Uint32Array(r);for(let l=0;l<r;l++){const{h:p,l:o}=Us(t[l],e);[c[l],u[l]]=[p,o]}return[c,u]}const hn=(t,e,r)=>t>>>r,ln=(t,e,r)=>t<<32-r|e>>>r,ct=(t,e,r)=>t>>>r|e<<32-r,ft=(t,e,r)=>t<<32-r|e>>>r,Rt=(t,e,r)=>t<<64-r|e>>>r-32,Ot=(t,e,r)=>t>>>r-32|e<<64-r;function $e(t,e,r,c){const u=(e>>>0)+(c>>>0);return{h:t+r+(u/2**32|0)|0,l:u|0}}const vs=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Fs=(t,e,r,c)=>e+r+c+(t/2**32|0)|0,Rs=(t,e,r,c)=>(t>>>0)+(e>>>0)+(r>>>0)+(c>>>0),Os=(t,e,r,c,u)=>e+r+c+u+(t/2**32|0)|0,Ls=(t,e,r,c,u)=>(t>>>0)+(e>>>0)+(r>>>0)+(c>>>0)+(u>>>0),Ds=(t,e,r,c,u,l)=>e+r+c+u+l+(t/2**32|0)|0,Ps=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ve=new Uint32Array(64);class pi extends di{constructor(e=32){super(64,e,8,!1),this.A=Ye[0]|0,this.B=Ye[1]|0,this.C=Ye[2]|0,this.D=Ye[3]|0,this.E=Ye[4]|0,this.F=Ye[5]|0,this.G=Ye[6]|0,this.H=Ye[7]|0}get(){const{A:e,B:r,C:c,D:u,E:l,F:p,G:o,H:x}=this;return[e,r,c,u,l,p,o,x]}set(e,r,c,u,l,p,o,x){this.A=e|0,this.B=r|0,this.C=c|0,this.D=u|0,this.E=l|0,this.F=p|0,this.G=o|0,this.H=x|0}process(e,r){for(let w=0;w<16;w++,r+=4)Ve[w]=e.getUint32(r,!1);for(let w=16;w<64;w++){const N=Ve[w-15],U=Ve[w-2],H=Me(N,7)^Me(N,18)^N>>>3,$=Me(U,17)^Me(U,19)^U>>>10;Ve[w]=$+Ve[w-7]+H+Ve[w-16]|0}let{A:c,B:u,C:l,D:p,E:o,F:x,G:_,H:F}=this;for(let w=0;w<64;w++){const N=Me(o,6)^Me(o,11)^Me(o,25),U=F+N+Ss(o,x,_)+Ps[w]+Ve[w]|0,$=(Me(c,2)^Me(c,13)^Me(c,22))+Ts(c,u,l)|0;F=_,_=x,x=o,o=p+U|0,p=l,l=u,u=c,c=U+$|0}c=c+this.A|0,u=u+this.B|0,l=l+this.C|0,p=p+this.D|0,o=o+this.E|0,x=x+this.F|0,_=_+this.G|0,F=F+this.H|0,this.set(c,u,l,p,o,x,_,F)}roundClean(){At(Ve)}destroy(){this.set(0,0,0,0,0,0,0,0),At(this.buffer)}}class Ms extends pi{constructor(){super(28),this.A=We[0]|0,this.B=We[1]|0,this.C=We[2]|0,this.D=We[3]|0,this.E=We[4]|0,this.F=We[5]|0,this.G=We[6]|0,this.H=We[7]|0}}const wi=Ns(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Cs=wi[0],ks=wi[1],je=new Uint32Array(80),Je=new Uint32Array(80);class Gs extends di{constructor(e=64){super(128,e,16,!1),this.Ah=Te[0]|0,this.Al=Te[1]|0,this.Bh=Te[2]|0,this.Bl=Te[3]|0,this.Ch=Te[4]|0,this.Cl=Te[5]|0,this.Dh=Te[6]|0,this.Dl=Te[7]|0,this.Eh=Te[8]|0,this.El=Te[9]|0,this.Fh=Te[10]|0,this.Fl=Te[11]|0,this.Gh=Te[12]|0,this.Gl=Te[13]|0,this.Hh=Te[14]|0,this.Hl=Te[15]|0}get(){const{Ah:e,Al:r,Bh:c,Bl:u,Ch:l,Cl:p,Dh:o,Dl:x,Eh:_,El:F,Fh:w,Fl:N,Gh:U,Gl:H,Hh:$,Hl:G}=this;return[e,r,c,u,l,p,o,x,_,F,w,N,U,H,$,G]}set(e,r,c,u,l,p,o,x,_,F,w,N,U,H,$,G){this.Ah=e|0,this.Al=r|0,this.Bh=c|0,this.Bl=u|0,this.Ch=l|0,this.Cl=p|0,this.Dh=o|0,this.Dl=x|0,this.Eh=_|0,this.El=F|0,this.Fh=w|0,this.Fl=N|0,this.Gh=U|0,this.Gl=H|0,this.Hh=$|0,this.Hl=G|0}process(e,r){for(let X=0;X<16;X++,r+=4)je[X]=e.getUint32(r),Je[X]=e.getUint32(r+=4);for(let X=16;X<80;X++){const se=je[X-15]|0,K=Je[X-15]|0,z=ct(se,K,1)^ct(se,K,8)^hn(se,K,7),W=ft(se,K,1)^ft(se,K,8)^ln(se,K,7),S=je[X-2]|0,k=Je[X-2]|0,M=ct(S,k,19)^Rt(S,k,61)^hn(S,k,6),J=ft(S,k,19)^Ot(S,k,61)^ln(S,k,6),te=Rs(W,J,Je[X-7],Je[X-16]),I=Os(te,z,M,je[X-7],je[X-16]);je[X]=I|0,Je[X]=te|0}let{Ah:c,Al:u,Bh:l,Bl:p,Ch:o,Cl:x,Dh:_,Dl:F,Eh:w,El:N,Fh:U,Fl:H,Gh:$,Gl:G,Hh:j,Hl:Y}=this;for(let X=0;X<80;X++){const se=ct(w,N,14)^ct(w,N,18)^Rt(w,N,41),K=ft(w,N,14)^ft(w,N,18)^Ot(w,N,41),z=w&U^~w&$,W=N&H^~N&G,S=Ls(Y,K,W,ks[X],Je[X]),k=Ds(S,j,se,z,Cs[X],je[X]),M=S|0,J=ct(c,u,28)^Rt(c,u,34)^Rt(c,u,39),te=ft(c,u,28)^Ot(c,u,34)^Ot(c,u,39),I=c&l^c&o^l&o,q=u&p^u&x^p&x;j=$|0,Y=G|0,$=U|0,G=H|0,U=w|0,H=N|0,{h:w,l:N}=$e(_|0,F|0,k|0,M|0),_=o|0,F=x|0,o=l|0,x=p|0,l=c|0,p=u|0;const Z=vs(M,te,q);c=Fs(Z,k,J,I),u=Z|0}({h:c,l:u}=$e(this.Ah|0,this.Al|0,c|0,u|0)),{h:l,l:p}=$e(this.Bh|0,this.Bl|0,l|0,p|0),{h:o,l:x}=$e(this.Ch|0,this.Cl|0,o|0,x|0),{h:_,l:F}=$e(this.Dh|0,this.Dl|0,_|0,F|0),{h:w,l:N}=$e(this.Eh|0,this.El|0,w|0,N|0),{h:U,l:H}=$e(this.Fh|0,this.Fl|0,U|0,H|0),{h:$,l:G}=$e(this.Gh|0,this.Gl|0,$|0,G|0),{h:j,l:Y}=$e(this.Hh|0,this.Hl|0,j|0,Y|0),this.set(c,u,l,p,o,x,_,F,w,N,U,H,$,G,j,Y)}roundClean(){At(je,Je)}destroy(){At(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Hs=Gr(()=>new pi),$s=Gr(()=>new Ms),qs=Gr(()=>new Gs),Ks=Hs,zs=$s;function Ys(t){return zs.create().update(new Uint8Array(t)).digest()}const Lt="__principal__",Ws=2,dn=4,Vs="aaaaa-aa",js=t=>{var e;return new Uint8Array(((e=t.match(/.{1,2}/g))!==null&&e!==void 0?e:[]).map(r=>parseInt(r,16)))},Js=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"");class tt{constructor(e){this._arr=e,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([dn]))}static managementCanister(){return this.fromText(Vs)}static selfAuthenticating(e){const r=Ys(e);return new this(new Uint8Array([...r,Ws]))}static from(e){if(typeof e=="string")return tt.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new tt(e);if(typeof e=="object"&&e!==null&&e._isPrincipal===!0)return new tt(e._arr);throw new Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this(js(e))}static fromText(e){let r=e;if(e.includes(Lt)){const p=JSON.parse(e);Lt in p&&(r=p[Lt])}const c=r.toLowerCase().replace(/-/g,"");let u=ys(c);u=u.slice(4,u.length);const l=new this(u);if(l.toText()!==r)throw new Error(`Principal "${l.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return l}static fromUint8Array(e){return new this(e)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===dn}toUint8Array(){return this._arr}toHex(){return Js(this._arr).toUpperCase()}toText(){const e=new ArrayBuffer(4);new DataView(e).setUint32(0,xs(this._arr));const c=new Uint8Array(e),u=Uint8Array.from(this._arr),l=new Uint8Array([...c,...u]),o=ws(l).match(/.{1,5}/g);if(!o)throw new Error;return o.join("-")}toString(){return this.toText()}toJSON(){return{[Lt]:this.toText()}}compareTo(e){for(let r=0;r<Math.min(this._arr.length,e._arr.length);r++){if(this._arr[r]<e._arr[r])return"lt";if(this._arr[r]>e._arr[r])return"gt"}return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){const r=this.compareTo(e);return r=="lt"||r=="eq"}gtEq(e){const r=this.compareTo(e);return r=="gt"||r=="eq"}}function Bt(...t){const e=new Uint8Array(t.reduce((c,u)=>c+u.byteLength,0));let r=0;for(const c of t)e.set(new Uint8Array(c),r),r+=c.byteLength;return e.buffer}function pt(t){return[...new Uint8Array(t)].map(e=>e.toString(16).padStart(2,"0")).join("")}const Xs=new RegExp(/^[0-9a-fA-F]+$/);function rt(t){if(!Xs.test(t))throw new Error("Invalid hexadecimal string.");const e=[...t].reduce((r,c,u)=>(r[u/2|0]=(r[u/2|0]||"")+c,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(e).buffer}function yi(t,e){if(t.byteLength!==e.byteLength)return t.byteLength-e.byteLength;const r=new Uint8Array(t),c=new Uint8Array(e);for(let u=0;u<r.length;u++)if(r[u]!==c[u])return r[u]-c[u];return 0}function gi(t,e){return yi(t,e)===0}function _t(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function It(t){return t instanceof Uint8Array?_t(t):t instanceof ArrayBuffer?t:Array.isArray(t)?_t(new Uint8Array(t)):"buffer"in t?It(t.buffer):_t(new Uint8Array(t))}class Hr{constructor(e,r=(e==null?void 0:e.byteLength)||0){this._buffer=yt(e||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(e){this._view=e}get buffer(){return yt(this._view.slice())}get byteLength(){return this._view.byteLength}read(e){const r=this._view.subarray(0,e);return this._view=this._view.subarray(e),r.slice().buffer}readUint8(){const e=this._view[0];return this._view=this._view.subarray(1),e}write(e){const r=new Uint8Array(e),c=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,c)}get end(){return this._view.byteLength===0}alloc(e){const r=new ArrayBuffer((this._buffer.byteLength+e)*1.2|0),c=new Uint8Array(r,0,this._view.byteLength+e);c.set(this._view),this._buffer=r,this._view=c}}function rr(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function yt(t){return t instanceof Uint8Array?rr(t):t instanceof ArrayBuffer?t:Array.isArray(t)?rr(new Uint8Array(t)):"buffer"in t?yt(t.buffer):rr(new Uint8Array(t))}function xi(){throw new Error("unexpected end of buffer")}function Zs(t,e){return t.byteLength<e&&xi(),t.read(e)}function pn(t){const e=t.readUint8();return e===void 0&&xi(),e}function wn(t){if(typeof t=="number"&&(t=BigInt(t)),t<BigInt(0))throw new Error("Cannot leb encode negative values.");const e=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,r=new Hr(new ArrayBuffer(e),0);for(;;){const c=Number(t&BigInt(127));if(t/=BigInt(128),t===BigInt(0)){r.write(new Uint8Array([c]));break}else r.write(new Uint8Array([c|128]))}return r.buffer}function $r(t){typeof t=="number"&&(t=BigInt(t));const e=t<BigInt(0);e&&(t=-t-BigInt(1));const r=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,c=new Hr(new ArrayBuffer(r),0);for(;;){const l=u(t);if(t/=BigInt(128),e&&t===BigInt(0)&&(l&64)!==0||!e&&t===BigInt(0)&&(l&64)===0){c.write(new Uint8Array([l]));break}else c.write(new Uint8Array([l|128]))}function u(l){const p=l%BigInt(128);return Number(e?BigInt(128)-p-BigInt(1):p)}return c.buffer}function Qs(t,e){if(BigInt(t)<BigInt(0))throw new Error("Cannot write negative values.");return mi(t,e)}function mi(t,e){t=BigInt(t);const r=new Hr(new ArrayBuffer(Math.min(1,e)),0);let c=0,u=BigInt(256),l=BigInt(0),p=Number(t%u);for(r.write(new Uint8Array([p]));++c<e;)t<0&&l===BigInt(0)&&p!==0&&(l=BigInt(1)),p=Number((t/u-l)%BigInt(256)),r.write(new Uint8Array([p])),u*=BigInt(256);return r.buffer}function bi(t,e){let r=BigInt(pn(t)),c=BigInt(1),u=0;for(;++u<e;){c*=BigInt(256);const l=BigInt(pn(t));r=r+c*l}return r}function eo(t,e){let r=bi(t,e);const c=BigInt(2)**(BigInt(8)*BigInt(e-1)+BigInt(7));return r>=c&&(r-=c*BigInt(2)),r}function Ur(t){const e=BigInt(t);if(t<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<e}const yn=400;class Ei{display(){return this.name}valueToString(e){return Ut(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}}class qr extends Ei{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}}class to extends Ei{checkType(e){if(e instanceof Vt){const r=e.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}}class _i extends qr{constructor(e){if(super(),this._bits=e,e!==32&&e!==64)throw new Error("not a valid float type")}accept(e,r){return e.visitFloat(this,r)}covariant(e){if(typeof e=="number"||e instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ut(e)}`)}encodeValue(e){const r=new ArrayBuffer(this._bits/8),c=new DataView(r);return this._bits===32?c.setFloat32(0,e,!0):c.setFloat64(0,e,!0),r}encodeType(){const e=this._bits===32?-13:-14;return $r(e)}decodeValue(e,r){this.checkType(r);const c=Zs(e,this._bits/8),u=new DataView(c);return this._bits===32?u.getFloat32(0,!0):u.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}}class Yt extends qr{constructor(e){super(),this._bits=e}accept(e,r){return e.visitFixedInt(this,r)}covariant(e){const r=Ur(this._bits-1)*BigInt(-1),c=Ur(this._bits-1)-BigInt(1);let u=!1;if(typeof e=="bigint")u=e>=r&&e<=c;else if(Number.isInteger(e)){const l=BigInt(e);u=l>=r&&l<=c}else u=!1;if(u)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ut(e)}`)}encodeValue(e){return mi(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return $r(-9-e)}decodeValue(e,r){this.checkType(r);const c=eo(e,this._bits/8);return this._bits<=32?Number(c):c}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}}class Wt extends qr{constructor(e){super(),this._bits=e}accept(e,r){return e.visitFixedNat(this,r)}covariant(e){const r=Ur(this._bits);let c=!1;if(typeof e=="bigint"&&e>=BigInt(0)?c=e<r:Number.isInteger(e)&&e>=0?c=BigInt(e)<r:c=!1,c)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ut(e)}`)}encodeValue(e){return Qs(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return $r(-5-e)}decodeValue(e,r){this.checkType(r);const c=bi(e,this._bits/8);return this._bits<=32?Number(c):c}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}}class Vt extends to{constructor(){super(...arguments),this._id=Vt._counter++,this._type=void 0}accept(e,r){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,r)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ut(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}}Vt._counter=0;function Ut(t){const e=JSON.stringify(t,(r,c)=>typeof c=="bigint"?`BigInt(${c})`:c);return e&&e.length>yn?e.substring(0,yn-3)+"...":e}new _i(32);new _i(64);new Yt(8);new Yt(16);new Yt(32);new Yt(64);new Wt(8);new Wt(16);new Wt(32);new Wt(64);var nr={},ir={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var gn;function jt(){return gn||(gn=1,function(t){var e=ui(),r=Cr(),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=Y,t.INSPECT_MAX_BYTES=50;var u=2147483647;t.kMaxLength=u,o.TYPED_ARRAY_SUPPORT=l(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{var f=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(f,n),f.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function p(f){if(f>u)throw new RangeError('The value "'+f+'" is invalid for option "size"');var n=new Uint8Array(f);return Object.setPrototypeOf(n,o.prototype),n}function o(f,n,i){if(typeof f=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(f)}return x(f,n,i)}o.poolSize=8192;function x(f,n,i){if(typeof f=="string")return N(f,n);if(ArrayBuffer.isView(f))return H(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(O(f,ArrayBuffer)||f&&O(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(O(f,SharedArrayBuffer)||f&&O(f.buffer,SharedArrayBuffer)))return $(f,n,i);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var d=f.valueOf&&f.valueOf();if(d!=null&&d!==f)return o.from(d,n,i);var y=G(f);if(y)return y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return o.from(f[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}o.from=function(f,n,i){return x(f,n,i)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function _(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function F(f,n,i){return _(f),f<=0?p(f):n!==void 0?typeof i=="string"?p(f).fill(n,i):p(f).fill(n):p(f)}o.alloc=function(f,n,i){return F(f,n,i)};function w(f){return _(f),p(f<0?0:j(f)|0)}o.allocUnsafe=function(f){return w(f)},o.allocUnsafeSlow=function(f){return w(f)};function N(f,n){if((typeof n!="string"||n==="")&&(n="utf8"),!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i=X(f,n)|0,d=p(i),y=d.write(f,n);return y!==i&&(d=d.slice(0,y)),d}function U(f){for(var n=f.length<0?0:j(f.length)|0,i=p(n),d=0;d<n;d+=1)i[d]=f[d]&255;return i}function H(f){if(O(f,Uint8Array)){var n=new Uint8Array(f);return $(n.buffer,n.byteOffset,n.byteLength)}return U(f)}function $(f,n,i){if(n<0||f.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var d;return n===void 0&&i===void 0?d=new Uint8Array(f):i===void 0?d=new Uint8Array(f,n):d=new Uint8Array(f,n,i),Object.setPrototypeOf(d,o.prototype),d}function G(f){if(o.isBuffer(f)){var n=j(f.length)|0,i=p(n);return i.length===0||f.copy(i,0,0,n),i}if(f.length!==void 0)return typeof f.length!="number"||R(f.length)?p(0):U(f);if(f.type==="Buffer"&&Array.isArray(f.data))return U(f.data)}function j(f){if(f>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return f|0}function Y(f){return+f!=f&&(f=0),o.alloc(+f)}o.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==o.prototype},o.compare=function(n,i){if(O(n,Uint8Array)&&(n=o.from(n,n.offset,n.byteLength)),O(i,Uint8Array)&&(i=o.from(i,i.offset,i.byteLength)),!o.isBuffer(n)||!o.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===i)return 0;for(var d=n.length,y=i.length,A=0,D=Math.min(d,y);A<D;++A)if(n[A]!==i[A]){d=n[A],y=i[A];break}return d<y?-1:y<d?1:0},o.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(n,i){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return o.alloc(0);var d;if(i===void 0)for(i=0,d=0;d<n.length;++d)i+=n[d].length;var y=o.allocUnsafe(i),A=0;for(d=0;d<n.length;++d){var D=n[d];if(O(D,Uint8Array))A+D.length>y.length?o.from(D).copy(y,A):Uint8Array.prototype.set.call(y,D,A);else if(o.isBuffer(D))D.copy(y,A);else throw new TypeError('"list" argument must be an Array of Buffers');A+=D.length}return y};function X(f,n){if(o.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||O(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var i=f.length,d=arguments.length>2&&arguments[2]===!0;if(!d&&i===0)return 0;for(var y=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return ee(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return E(f).length;default:if(y)return d?-1:ee(f).length;n=(""+n).toLowerCase(),y=!0}}o.byteLength=X;function se(f,n,i){var d=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,n>>>=0,i<=n))return"";for(f||(f="utf8");;)switch(f){case"hex":return Ie(this,n,i);case"utf8":case"utf-8":return q(this,n,i);case"ascii":return fe(this,n,i);case"latin1":case"binary":return pe(this,n,i);case"base64":return I(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,n,i);default:if(d)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),d=!0}}o.prototype._isBuffer=!0;function K(f,n,i){var d=f[n];f[n]=f[i],f[i]=d}o.prototype.swap16=function(){var n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<n;i+=2)K(this,i,i+1);return this},o.prototype.swap32=function(){var n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<n;i+=4)K(this,i,i+3),K(this,i+1,i+2);return this},o.prototype.swap64=function(){var n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<n;i+=8)K(this,i,i+7),K(this,i+1,i+6),K(this,i+2,i+5),K(this,i+3,i+4);return this},o.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?q(this,0,n):se.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(n){if(!o.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:o.compare(this,n)===0},o.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},c&&(o.prototype[c]=o.prototype.inspect),o.prototype.compare=function(n,i,d,y,A){if(O(n,Uint8Array)&&(n=o.from(n,n.offset,n.byteLength)),!o.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(i===void 0&&(i=0),d===void 0&&(d=n?n.length:0),y===void 0&&(y=0),A===void 0&&(A=this.length),i<0||d>n.length||y<0||A>this.length)throw new RangeError("out of range index");if(y>=A&&i>=d)return 0;if(y>=A)return-1;if(i>=d)return 1;if(i>>>=0,d>>>=0,y>>>=0,A>>>=0,this===n)return 0;for(var D=A-y,V=d-i,Q=Math.min(D,V),ne=this.slice(y,A),le=n.slice(i,d),h=0;h<Q;++h)if(ne[h]!==le[h]){D=ne[h],V=le[h];break}return D<V?-1:V<D?1:0};function z(f,n,i,d,y){if(f.length===0)return-1;if(typeof i=="string"?(d=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,R(i)&&(i=y?0:f.length-1),i<0&&(i=f.length+i),i>=f.length){if(y)return-1;i=f.length-1}else if(i<0)if(y)i=0;else return-1;if(typeof n=="string"&&(n=o.from(n,d)),o.isBuffer(n))return n.length===0?-1:W(f,n,i,d,y);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?y?Uint8Array.prototype.indexOf.call(f,n,i):Uint8Array.prototype.lastIndexOf.call(f,n,i):W(f,[n],i,d,y);throw new TypeError("val must be string, number or Buffer")}function W(f,n,i,d,y){var A=1,D=f.length,V=n.length;if(d!==void 0&&(d=String(d).toLowerCase(),d==="ucs2"||d==="ucs-2"||d==="utf16le"||d==="utf-16le")){if(f.length<2||n.length<2)return-1;A=2,D/=2,V/=2,i/=2}function Q(a,m){return A===1?a[m]:a.readUInt16BE(m*A)}var ne;if(y){var le=-1;for(ne=i;ne<D;ne++)if(Q(f,ne)===Q(n,le===-1?0:ne-le)){if(le===-1&&(le=ne),ne-le+1===V)return le*A}else le!==-1&&(ne-=ne-le),le=-1}else for(i+V>D&&(i=D-V),ne=i;ne>=0;ne--){for(var h=!0,s=0;s<V;s++)if(Q(f,ne+s)!==Q(n,s)){h=!1;break}if(h)return ne}return-1}o.prototype.includes=function(n,i,d){return this.indexOf(n,i,d)!==-1},o.prototype.indexOf=function(n,i,d){return z(this,n,i,d,!0)},o.prototype.lastIndexOf=function(n,i,d){return z(this,n,i,d,!1)};function S(f,n,i,d){i=Number(i)||0;var y=f.length-i;d?(d=Number(d),d>y&&(d=y)):d=y;var A=n.length;d>A/2&&(d=A/2);for(var D=0;D<d;++D){var V=parseInt(n.substr(D*2,2),16);if(R(V))return D;f[i+D]=V}return D}function k(f,n,i,d){return B(ee(n,f.length-i),f,i,d)}function M(f,n,i,d){return B(ie(n),f,i,d)}function J(f,n,i,d){return B(E(n),f,i,d)}function te(f,n,i,d){return B(g(n,f.length-i),f,i,d)}o.prototype.write=function(n,i,d,y){if(i===void 0)y="utf8",d=this.length,i=0;else if(d===void 0&&typeof i=="string")y=i,d=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(d)?(d=d>>>0,y===void 0&&(y="utf8")):(y=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var A=this.length-i;if((d===void 0||d>A)&&(d=A),n.length>0&&(d<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");for(var D=!1;;)switch(y){case"hex":return S(this,n,i,d);case"utf8":case"utf-8":return k(this,n,i,d);case"ascii":case"latin1":case"binary":return M(this,n,i,d);case"base64":return J(this,n,i,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,n,i,d);default:if(D)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),D=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(f,n,i){return n===0&&i===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(n,i))}function q(f,n,i){i=Math.min(f.length,i);for(var d=[],y=n;y<i;){var A=f[y],D=null,V=A>239?4:A>223?3:A>191?2:1;if(y+V<=i){var Q,ne,le,h;switch(V){case 1:A<128&&(D=A);break;case 2:Q=f[y+1],(Q&192)===128&&(h=(A&31)<<6|Q&63,h>127&&(D=h));break;case 3:Q=f[y+1],ne=f[y+2],(Q&192)===128&&(ne&192)===128&&(h=(A&15)<<12|(Q&63)<<6|ne&63,h>2047&&(h<55296||h>57343)&&(D=h));break;case 4:Q=f[y+1],ne=f[y+2],le=f[y+3],(Q&192)===128&&(ne&192)===128&&(le&192)===128&&(h=(A&15)<<18|(Q&63)<<12|(ne&63)<<6|le&63,h>65535&&h<1114112&&(D=h))}}D===null?(D=65533,V=1):D>65535&&(D-=65536,d.push(D>>>10&1023|55296),D=56320|D&1023),d.push(D),y+=V}return re(d)}var Z=4096;function re(f){var n=f.length;if(n<=Z)return String.fromCharCode.apply(String,f);for(var i="",d=0;d<n;)i+=String.fromCharCode.apply(String,f.slice(d,d+=Z));return i}function fe(f,n,i){var d="";i=Math.min(f.length,i);for(var y=n;y<i;++y)d+=String.fromCharCode(f[y]&127);return d}function pe(f,n,i){var d="";i=Math.min(f.length,i);for(var y=n;y<i;++y)d+=String.fromCharCode(f[y]);return d}function Ie(f,n,i){var d=f.length;(!n||n<0)&&(n=0),(!i||i<0||i>d)&&(i=d);for(var y="",A=n;A<i;++A)y+=L[f[A]];return y}function Se(f,n,i){for(var d=f.slice(n,i),y="",A=0;A<d.length-1;A+=2)y+=String.fromCharCode(d[A]+d[A+1]*256);return y}o.prototype.slice=function(n,i){var d=this.length;n=~~n,i=i===void 0?d:~~i,n<0?(n+=d,n<0&&(n=0)):n>d&&(n=d),i<0?(i+=d,i<0&&(i=0)):i>d&&(i=d),i<n&&(i=n);var y=this.subarray(n,i);return Object.setPrototypeOf(y,o.prototype),y};function ue(f,n,i){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+n>i)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(n,i,d){n=n>>>0,i=i>>>0,d||ue(n,i,this.length);for(var y=this[n],A=1,D=0;++D<i&&(A*=256);)y+=this[n+D]*A;return y},o.prototype.readUintBE=o.prototype.readUIntBE=function(n,i,d){n=n>>>0,i=i>>>0,d||ue(n,i,this.length);for(var y=this[n+--i],A=1;i>0&&(A*=256);)y+=this[n+--i]*A;return y},o.prototype.readUint8=o.prototype.readUInt8=function(n,i){return n=n>>>0,i||ue(n,1,this.length),this[n]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(n,i){return n=n>>>0,i||ue(n,2,this.length),this[n]|this[n+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(n,i){return n=n>>>0,i||ue(n,2,this.length),this[n]<<8|this[n+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(n,i){return n=n>>>0,i||ue(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(n,i){return n=n>>>0,i||ue(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},o.prototype.readIntLE=function(n,i,d){n=n>>>0,i=i>>>0,d||ue(n,i,this.length);for(var y=this[n],A=1,D=0;++D<i&&(A*=256);)y+=this[n+D]*A;return A*=128,y>=A&&(y-=Math.pow(2,8*i)),y},o.prototype.readIntBE=function(n,i,d){n=n>>>0,i=i>>>0,d||ue(n,i,this.length);for(var y=i,A=1,D=this[n+--y];y>0&&(A*=256);)D+=this[n+--y]*A;return A*=128,D>=A&&(D-=Math.pow(2,8*i)),D},o.prototype.readInt8=function(n,i){return n=n>>>0,i||ue(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},o.prototype.readInt16LE=function(n,i){n=n>>>0,i||ue(n,2,this.length);var d=this[n]|this[n+1]<<8;return d&32768?d|4294901760:d},o.prototype.readInt16BE=function(n,i){n=n>>>0,i||ue(n,2,this.length);var d=this[n+1]|this[n]<<8;return d&32768?d|4294901760:d},o.prototype.readInt32LE=function(n,i){return n=n>>>0,i||ue(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},o.prototype.readInt32BE=function(n,i){return n=n>>>0,i||ue(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},o.prototype.readFloatLE=function(n,i){return n=n>>>0,i||ue(n,4,this.length),r.read(this,n,!0,23,4)},o.prototype.readFloatBE=function(n,i){return n=n>>>0,i||ue(n,4,this.length),r.read(this,n,!1,23,4)},o.prototype.readDoubleLE=function(n,i){return n=n>>>0,i||ue(n,8,this.length),r.read(this,n,!0,52,8)},o.prototype.readDoubleBE=function(n,i){return n=n>>>0,i||ue(n,8,this.length),r.read(this,n,!1,52,8)};function he(f,n,i,d,y,A){if(!o.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>y||n<A)throw new RangeError('"value" argument is out of bounds');if(i+d>f.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(n,i,d,y){if(n=+n,i=i>>>0,d=d>>>0,!y){var A=Math.pow(2,8*d)-1;he(this,n,i,d,A,0)}var D=1,V=0;for(this[i]=n&255;++V<d&&(D*=256);)this[i+V]=n/D&255;return i+d},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(n,i,d,y){if(n=+n,i=i>>>0,d=d>>>0,!y){var A=Math.pow(2,8*d)-1;he(this,n,i,d,A,0)}var D=d-1,V=1;for(this[i+D]=n&255;--D>=0&&(V*=256);)this[i+D]=n/V&255;return i+d},o.prototype.writeUint8=o.prototype.writeUInt8=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,1,255,0),this[i]=n&255,i+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,2,65535,0),this[i]=n&255,this[i+1]=n>>>8,i+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,2,65535,0),this[i]=n>>>8,this[i+1]=n&255,i+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,4,4294967295,0),this[i+3]=n>>>24,this[i+2]=n>>>16,this[i+1]=n>>>8,this[i]=n&255,i+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,4,4294967295,0),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4},o.prototype.writeIntLE=function(n,i,d,y){if(n=+n,i=i>>>0,!y){var A=Math.pow(2,8*d-1);he(this,n,i,d,A-1,-A)}var D=0,V=1,Q=0;for(this[i]=n&255;++D<d&&(V*=256);)n<0&&Q===0&&this[i+D-1]!==0&&(Q=1),this[i+D]=(n/V>>0)-Q&255;return i+d},o.prototype.writeIntBE=function(n,i,d,y){if(n=+n,i=i>>>0,!y){var A=Math.pow(2,8*d-1);he(this,n,i,d,A-1,-A)}var D=d-1,V=1,Q=0;for(this[i+D]=n&255;--D>=0&&(V*=256);)n<0&&Q===0&&this[i+D+1]!==0&&(Q=1),this[i+D]=(n/V>>0)-Q&255;return i+d},o.prototype.writeInt8=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,1,127,-128),n<0&&(n=255+n+1),this[i]=n&255,i+1},o.prototype.writeInt16LE=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,2,32767,-32768),this[i]=n&255,this[i+1]=n>>>8,i+2},o.prototype.writeInt16BE=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,2,32767,-32768),this[i]=n>>>8,this[i+1]=n&255,i+2},o.prototype.writeInt32LE=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,4,2147483647,-2147483648),this[i]=n&255,this[i+1]=n>>>8,this[i+2]=n>>>16,this[i+3]=n>>>24,i+4},o.prototype.writeInt32BE=function(n,i,d){return n=+n,i=i>>>0,d||he(this,n,i,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4};function Le(f,n,i,d,y,A){if(i+d>f.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function b(f,n,i,d,y){return n=+n,i=i>>>0,y||Le(f,n,i,4),r.write(f,n,i,d,23,4),i+4}o.prototype.writeFloatLE=function(n,i,d){return b(this,n,i,!0,d)},o.prototype.writeFloatBE=function(n,i,d){return b(this,n,i,!1,d)};function Re(f,n,i,d,y){return n=+n,i=i>>>0,y||Le(f,n,i,8),r.write(f,n,i,d,52,8),i+8}o.prototype.writeDoubleLE=function(n,i,d){return Re(this,n,i,!0,d)},o.prototype.writeDoubleBE=function(n,i,d){return Re(this,n,i,!1,d)},o.prototype.copy=function(n,i,d,y){if(!o.isBuffer(n))throw new TypeError("argument should be a Buffer");if(d||(d=0),!y&&y!==0&&(y=this.length),i>=n.length&&(i=n.length),i||(i=0),y>0&&y<d&&(y=d),y===d||n.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),n.length-i<y-d&&(y=n.length-i+d);var A=y-d;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,d,y):Uint8Array.prototype.set.call(n,this.subarray(d,y),i),A},o.prototype.fill=function(n,i,d,y){if(typeof n=="string"){if(typeof i=="string"?(y=i,i=0,d=this.length):typeof d=="string"&&(y=d,d=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!o.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(n.length===1){var A=n.charCodeAt(0);(y==="utf8"&&A<128||y==="latin1")&&(n=A)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(i<0||this.length<i||this.length<d)throw new RangeError("Out of range index");if(d<=i)return this;i=i>>>0,d=d===void 0?this.length:d>>>0,n||(n=0);var D;if(typeof n=="number")for(D=i;D<d;++D)this[D]=n;else{var V=o.isBuffer(n)?n:o.from(n,y),Q=V.length;if(Q===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(D=0;D<d-i;++D)this[D+i]=V[D%Q]}return this};var De=/[^+/0-9A-Za-z-_]/g;function Pe(f){if(f=f.split("=")[0],f=f.trim().replace(De,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function ee(f,n){n=n||1/0;for(var i,d=f.length,y=null,A=[],D=0;D<d;++D){if(i=f.charCodeAt(D),i>55295&&i<57344){if(!y){if(i>56319){(n-=3)>-1&&A.push(239,191,189);continue}else if(D+1===d){(n-=3)>-1&&A.push(239,191,189);continue}y=i;continue}if(i<56320){(n-=3)>-1&&A.push(239,191,189),y=i;continue}i=(y-55296<<10|i-56320)+65536}else y&&(n-=3)>-1&&A.push(239,191,189);if(y=null,i<128){if((n-=1)<0)break;A.push(i)}else if(i<2048){if((n-=2)<0)break;A.push(i>>6|192,i&63|128)}else if(i<65536){if((n-=3)<0)break;A.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((n-=4)<0)break;A.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return A}function ie(f){for(var n=[],i=0;i<f.length;++i)n.push(f.charCodeAt(i)&255);return n}function g(f,n){for(var i,d,y,A=[],D=0;D<f.length&&!((n-=2)<0);++D)i=f.charCodeAt(D),d=i>>8,y=i%256,A.push(y),A.push(d);return A}function E(f){return e.toByteArray(Pe(f))}function B(f,n,i,d){for(var y=0;y<d&&!(y+i>=n.length||y>=f.length);++y)n[y+i]=f[y];return y}function O(f,n){return f instanceof n||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===n.name}function R(f){return f!==f}var L=function(){for(var f="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var d=i*16,y=0;y<16;++y)n[d+y]=f[i]+f[y];return n}()}(ir)),ir}var Dt={exports:{}},ro=Dt.exports,xn;function Jt(){return xn||(xn=1,function(t){(function(e){var r,c=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,u=Math.ceil,l=Math.floor,p="[BigNumber Error] ",o=p+"Number primitive has more than 15 significant digits: ",x=1e14,_=14,F=9007199254740991,w=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],N=1e7,U=1e9;function H(z){var W,S,k,M=b.prototype={constructor:b,toString:null,valueOf:null},J=new b(1),te=20,I=4,q=-7,Z=21,re=-1e7,fe=1e7,pe=!1,Ie=1,Se=0,ue={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},he="0123456789abcdefghijklmnopqrstuvwxyz",Le=!0;function b(g,E){var B,O,R,L,f,n,i,d,y=this;if(!(y instanceof b))return new b(g,E);if(E==null){if(g&&g._isBigNumber===!0){y.s=g.s,!g.c||g.e>fe?y.c=y.e=null:g.e<re?y.c=[y.e=0]:(y.e=g.e,y.c=g.c.slice());return}if((n=typeof g=="number")&&g*0==0){if(y.s=1/g<0?(g=-g,-1):1,g===~~g){for(L=0,f=g;f>=10;f/=10,L++);L>fe?y.c=y.e=null:(y.e=L,y.c=[g]);return}d=String(g)}else{if(!c.test(d=String(g)))return k(y,d,n);y.s=d.charCodeAt(0)==45?(d=d.slice(1),-1):1}(L=d.indexOf("."))>-1&&(d=d.replace(".","")),(f=d.search(/e/i))>0?(L<0&&(L=f),L+=+d.slice(f+1),d=d.substring(0,f)):L<0&&(L=d.length)}else{if(Y(E,2,he.length,"Base"),E==10&&Le)return y=new b(g),ee(y,te+y.e+1,I);if(d=String(g),n=typeof g=="number"){if(g*0!=0)return k(y,d,n,E);if(y.s=1/g<0?(d=d.slice(1),-1):1,b.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(o+g)}else y.s=d.charCodeAt(0)===45?(d=d.slice(1),-1):1;for(B=he.slice(0,E),L=f=0,i=d.length;f<i;f++)if(B.indexOf(O=d.charAt(f))<0){if(O=="."){if(f>L){L=i;continue}}else if(!R&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){R=!0,f=-1,L=0;continue}return k(y,String(g),n,E)}n=!1,d=S(d,E,10,y.s),(L=d.indexOf("."))>-1?d=d.replace(".",""):L=d.length}for(f=0;d.charCodeAt(f)===48;f++);for(i=d.length;d.charCodeAt(--i)===48;);if(d=d.slice(f,++i)){if(i-=f,n&&b.DEBUG&&i>15&&(g>F||g!==l(g)))throw Error(o+y.s*g);if((L=L-f-1)>fe)y.c=y.e=null;else if(L<re)y.c=[y.e=0];else{if(y.e=L,y.c=[],f=(L+1)%_,L<0&&(f+=_),f<i){for(f&&y.c.push(+d.slice(0,f)),i-=_;f<i;)y.c.push(+d.slice(f,f+=_));f=_-(d=d.slice(f)).length}else f-=i;for(;f--;d+="0");y.c.push(+d)}}else y.c=[y.e=0]}b.clone=H,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=b.set=function(g){var E,B;if(g!=null)if(typeof g=="object"){if(g.hasOwnProperty(E="DECIMAL_PLACES")&&(B=g[E],Y(B,0,U,E),te=B),g.hasOwnProperty(E="ROUNDING_MODE")&&(B=g[E],Y(B,0,8,E),I=B),g.hasOwnProperty(E="EXPONENTIAL_AT")&&(B=g[E],B&&B.pop?(Y(B[0],-U,0,E),Y(B[1],0,U,E),q=B[0],Z=B[1]):(Y(B,-U,U,E),q=-(Z=B<0?-B:B))),g.hasOwnProperty(E="RANGE"))if(B=g[E],B&&B.pop)Y(B[0],-U,-1,E),Y(B[1],1,U,E),re=B[0],fe=B[1];else if(Y(B,-U,U,E),B)re=-(fe=B<0?-B:B);else throw Error(p+E+" cannot be zero: "+B);if(g.hasOwnProperty(E="CRYPTO"))if(B=g[E],B===!!B)if(B)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))pe=B;else throw pe=!B,Error(p+"crypto unavailable");else pe=B;else throw Error(p+E+" not true or false: "+B);if(g.hasOwnProperty(E="MODULO_MODE")&&(B=g[E],Y(B,0,9,E),Ie=B),g.hasOwnProperty(E="POW_PRECISION")&&(B=g[E],Y(B,0,U,E),Se=B),g.hasOwnProperty(E="FORMAT"))if(B=g[E],typeof B=="object")ue=B;else throw Error(p+E+" not an object: "+B);if(g.hasOwnProperty(E="ALPHABET"))if(B=g[E],typeof B=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(B))Le=B.slice(0,10)=="0123456789",he=B;else throw Error(p+E+" invalid: "+B)}else throw Error(p+"Object expected: "+g);return{DECIMAL_PLACES:te,ROUNDING_MODE:I,EXPONENTIAL_AT:[q,Z],RANGE:[re,fe],CRYPTO:pe,MODULO_MODE:Ie,POW_PRECISION:Se,FORMAT:ue,ALPHABET:he}},b.isBigNumber=function(g){if(!g||g._isBigNumber!==!0)return!1;if(!b.DEBUG)return!0;var E,B,O=g.c,R=g.e,L=g.s;e:if({}.toString.call(O)=="[object Array]"){if((L===1||L===-1)&&R>=-U&&R<=U&&R===l(R)){if(O[0]===0){if(R===0&&O.length===1)return!0;break e}if(E=(R+1)%_,E<1&&(E+=_),String(O[0]).length==E){for(E=0;E<O.length;E++)if(B=O[E],B<0||B>=x||B!==l(B))break e;if(B!==0)return!0}}}else if(O===null&&R===null&&(L===null||L===1||L===-1))return!0;throw Error(p+"Invalid BigNumber: "+g)},b.maximum=b.max=function(){return De(arguments,-1)},b.minimum=b.min=function(){return De(arguments,1)},b.random=function(){var g=9007199254740992,E=Math.random()*g&2097151?function(){return l(Math.random()*g)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(B){var O,R,L,f,n,i=0,d=[],y=new b(J);if(B==null?B=te:Y(B,0,U),f=u(B/_),pe)if(crypto.getRandomValues){for(O=crypto.getRandomValues(new Uint32Array(f*=2));i<f;)n=O[i]*131072+(O[i+1]>>>11),n>=9e15?(R=crypto.getRandomValues(new Uint32Array(2)),O[i]=R[0],O[i+1]=R[1]):(d.push(n%1e14),i+=2);i=f/2}else if(crypto.randomBytes){for(O=crypto.randomBytes(f*=7);i<f;)n=(O[i]&31)*281474976710656+O[i+1]*1099511627776+O[i+2]*4294967296+O[i+3]*16777216+(O[i+4]<<16)+(O[i+5]<<8)+O[i+6],n>=9e15?crypto.randomBytes(7).copy(O,i):(d.push(n%1e14),i+=7);i=f/7}else throw pe=!1,Error(p+"crypto unavailable");if(!pe)for(;i<f;)n=E(),n<9e15&&(d[i++]=n%1e14);for(f=d[--i],B%=_,f&&B&&(n=w[_-B],d[i]=l(f/n)*n);d[i]===0;d.pop(),i--);if(i<0)d=[L=0];else{for(L=-1;d[0]===0;d.splice(0,1),L-=_);for(i=1,n=d[0];n>=10;n/=10,i++);i<_&&(L-=_-i)}return y.e=L,y.c=d,y}}(),b.sum=function(){for(var g=1,E=arguments,B=new b(E[0]);g<E.length;)B=B.plus(E[g++]);return B},S=function(){var g="0123456789";function E(B,O,R,L){for(var f,n=[0],i,d=0,y=B.length;d<y;){for(i=n.length;i--;n[i]*=O);for(n[0]+=L.indexOf(B.charAt(d++)),f=0;f<n.length;f++)n[f]>R-1&&(n[f+1]==null&&(n[f+1]=0),n[f+1]+=n[f]/R|0,n[f]%=R)}return n.reverse()}return function(B,O,R,L,f){var n,i,d,y,A,D,V,Q,ne=B.indexOf("."),le=te,h=I;for(ne>=0&&(y=Se,Se=0,B=B.replace(".",""),Q=new b(O),D=Q.pow(B.length-ne),Se=y,Q.c=E(K(G(D.c),D.e,"0"),10,R,g),Q.e=Q.c.length),V=E(B,O,R,f?(n=he,g):(n=g,he)),d=y=V.length;V[--y]==0;V.pop());if(!V[0])return n.charAt(0);if(ne<0?--d:(D.c=V,D.e=d,D.s=L,D=W(D,Q,le,h,R),V=D.c,A=D.r,d=D.e),i=d+le+1,ne=V[i],y=R/2,A=A||i<0||V[i+1]!=null,A=h<4?(ne!=null||A)&&(h==0||h==(D.s<0?3:2)):ne>y||ne==y&&(h==4||A||h==6&&V[i-1]&1||h==(D.s<0?8:7)),i<1||!V[0])B=A?K(n.charAt(1),-le,n.charAt(0)):n.charAt(0);else{if(V.length=i,A)for(--R;++V[--i]>R;)V[i]=0,i||(++d,V=[1].concat(V));for(y=V.length;!V[--y];);for(ne=0,B="";ne<=y;B+=n.charAt(V[ne++]));B=K(B,d,n.charAt(0))}return B}}(),W=function(){function g(O,R,L){var f,n,i,d,y=0,A=O.length,D=R%N,V=R/N|0;for(O=O.slice();A--;)i=O[A]%N,d=O[A]/N|0,f=V*i+d*D,n=D*i+f%N*N+y,y=(n/L|0)+(f/N|0)+V*d,O[A]=n%L;return y&&(O=[y].concat(O)),O}function E(O,R,L,f){var n,i;if(L!=f)i=L>f?1:-1;else for(n=i=0;n<L;n++)if(O[n]!=R[n]){i=O[n]>R[n]?1:-1;break}return i}function B(O,R,L,f){for(var n=0;L--;)O[L]-=n,n=O[L]<R[L]?1:0,O[L]=n*f+O[L]-R[L];for(;!O[0]&&O.length>1;O.splice(0,1));}return function(O,R,L,f,n){var i,d,y,A,D,V,Q,ne,le,h,s,a,m,v,C,P,ae,de=O.s==R.s?1:-1,ce=O.c,oe=R.c;if(!ce||!ce[0]||!oe||!oe[0])return new b(!O.s||!R.s||(ce?oe&&ce[0]==oe[0]:!oe)?NaN:ce&&ce[0]==0||!oe?de*0:de/0);for(ne=new b(de),le=ne.c=[],d=O.e-R.e,de=L+d+1,n||(n=x,d=$(O.e/_)-$(R.e/_),de=de/_|0),y=0;oe[y]==(ce[y]||0);y++);if(oe[y]>(ce[y]||0)&&d--,de<0)le.push(1),A=!0;else{for(v=ce.length,P=oe.length,y=0,de+=2,D=l(n/(oe[0]+1)),D>1&&(oe=g(oe,D,n),ce=g(ce,D,n),P=oe.length,v=ce.length),m=P,h=ce.slice(0,P),s=h.length;s<P;h[s++]=0);ae=oe.slice(),ae=[0].concat(ae),C=oe[0],oe[1]>=n/2&&C++;do{if(D=0,i=E(oe,h,P,s),i<0){if(a=h[0],P!=s&&(a=a*n+(h[1]||0)),D=l(a/C),D>1)for(D>=n&&(D=n-1),V=g(oe,D,n),Q=V.length,s=h.length;E(V,h,Q,s)==1;)D--,B(V,P<Q?ae:oe,Q,n),Q=V.length,i=1;else D==0&&(i=D=1),V=oe.slice(),Q=V.length;if(Q<s&&(V=[0].concat(V)),B(h,V,s,n),s=h.length,i==-1)for(;E(oe,h,P,s)<1;)D++,B(h,P<s?ae:oe,s,n),s=h.length}else i===0&&(D++,h=[0]);le[y++]=D,h[0]?h[s++]=ce[m]||0:(h=[ce[m]],s=1)}while((m++<v||h[0]!=null)&&de--);A=h[0]!=null,le[0]||le.splice(0,1)}if(n==x){for(y=1,de=le[0];de>=10;de/=10,y++);ee(ne,L+(ne.e=y+d*_-1)+1,f,A)}else ne.e=d,ne.r=+A;return ne}}();function Re(g,E,B,O){var R,L,f,n,i;if(B==null?B=I:Y(B,0,8),!g.c)return g.toString();if(R=g.c[0],f=g.e,E==null)i=G(g.c),i=O==1||O==2&&(f<=q||f>=Z)?se(i,f):K(i,f,"0");else if(g=ee(new b(g),E,B),L=g.e,i=G(g.c),n=i.length,O==1||O==2&&(E<=L||L<=q)){for(;n<E;i+="0",n++);i=se(i,L)}else if(E-=f,i=K(i,L,"0"),L+1>n){if(--E>0)for(i+=".";E--;i+="0");}else if(E+=L-n,E>0)for(L+1==n&&(i+=".");E--;i+="0");return g.s<0&&R?"-"+i:i}function De(g,E){for(var B,O,R=1,L=new b(g[0]);R<g.length;R++)O=new b(g[R]),(!O.s||(B=j(L,O))===E||B===0&&L.s===E)&&(L=O);return L}function Pe(g,E,B){for(var O=1,R=E.length;!E[--R];E.pop());for(R=E[0];R>=10;R/=10,O++);return(B=O+B*_-1)>fe?g.c=g.e=null:B<re?g.c=[g.e=0]:(g.e=B,g.c=E),g}k=function(){var g=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,B=/^\.([^.]+)$/,O=/^-?(Infinity|NaN)$/,R=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(L,f,n,i){var d,y=n?f:f.replace(R,"");if(O.test(y))L.s=isNaN(y)?null:y<0?-1:1;else{if(!n&&(y=y.replace(g,function(A,D,V){return d=(V=V.toLowerCase())=="x"?16:V=="b"?2:8,!i||i==d?D:A}),i&&(d=i,y=y.replace(E,"$1").replace(B,"0.$1")),f!=y))return new b(y,d);if(b.DEBUG)throw Error(p+"Not a"+(i?" base "+i:"")+" number: "+f);L.s=null}L.c=L.e=null}}();function ee(g,E,B,O){var R,L,f,n,i,d,y,A=g.c,D=w;if(A){e:{for(R=1,n=A[0];n>=10;n/=10,R++);if(L=E-R,L<0)L+=_,f=E,i=A[d=0],y=l(i/D[R-f-1]%10);else if(d=u((L+1)/_),d>=A.length)if(O){for(;A.length<=d;A.push(0));i=y=0,R=1,L%=_,f=L-_+1}else break e;else{for(i=n=A[d],R=1;n>=10;n/=10,R++);L%=_,f=L-_+R,y=f<0?0:l(i/D[R-f-1]%10)}if(O=O||E<0||A[d+1]!=null||(f<0?i:i%D[R-f-1]),O=B<4?(y||O)&&(B==0||B==(g.s<0?3:2)):y>5||y==5&&(B==4||O||B==6&&(L>0?f>0?i/D[R-f]:0:A[d-1])%10&1||B==(g.s<0?8:7)),E<1||!A[0])return A.length=0,O?(E-=g.e+1,A[0]=D[(_-E%_)%_],g.e=-E||0):A[0]=g.e=0,g;if(L==0?(A.length=d,n=1,d--):(A.length=d+1,n=D[_-L],A[d]=f>0?l(i/D[R-f]%D[f])*n:0),O)for(;;)if(d==0){for(L=1,f=A[0];f>=10;f/=10,L++);for(f=A[0]+=n,n=1;f>=10;f/=10,n++);L!=n&&(g.e++,A[0]==x&&(A[0]=1));break}else{if(A[d]+=n,A[d]!=x)break;A[d--]=0,n=1}for(L=A.length;A[--L]===0;A.pop());}g.e>fe?g.c=g.e=null:g.e<re&&(g.c=[g.e=0])}return g}function ie(g){var E,B=g.e;return B===null?g.toString():(E=G(g.c),E=B<=q||B>=Z?se(E,B):K(E,B,"0"),g.s<0?"-"+E:E)}return M.absoluteValue=M.abs=function(){var g=new b(this);return g.s<0&&(g.s=1),g},M.comparedTo=function(g,E){return j(this,new b(g,E))},M.decimalPlaces=M.dp=function(g,E){var B,O,R,L=this;if(g!=null)return Y(g,0,U),E==null?E=I:Y(E,0,8),ee(new b(L),g+L.e+1,E);if(!(B=L.c))return null;if(O=((R=B.length-1)-$(this.e/_))*_,R=B[R])for(;R%10==0;R/=10,O--);return O<0&&(O=0),O},M.dividedBy=M.div=function(g,E){return W(this,new b(g,E),te,I)},M.dividedToIntegerBy=M.idiv=function(g,E){return W(this,new b(g,E),0,1)},M.exponentiatedBy=M.pow=function(g,E){var B,O,R,L,f,n,i,d,y,A=this;if(g=new b(g),g.c&&!g.isInteger())throw Error(p+"Exponent not an integer: "+ie(g));if(E!=null&&(E=new b(E)),n=g.e>14,!A.c||!A.c[0]||A.c[0]==1&&!A.e&&A.c.length==1||!g.c||!g.c[0])return y=new b(Math.pow(+ie(A),n?g.s*(2-X(g)):+ie(g))),E?y.mod(E):y;if(i=g.s<0,E){if(E.c?!E.c[0]:!E.s)return new b(NaN);O=!i&&A.isInteger()&&E.isInteger(),O&&(A=A.mod(E))}else{if(g.e>9&&(A.e>0||A.e<-1||(A.e==0?A.c[0]>1||n&&A.c[1]>=24e7:A.c[0]<8e13||n&&A.c[0]<=9999975e7)))return L=A.s<0&&X(g)?-0:0,A.e>-1&&(L=1/L),new b(i?1/L:L);Se&&(L=u(Se/_+2))}for(n?(B=new b(.5),i&&(g.s=1),d=X(g)):(R=Math.abs(+ie(g)),d=R%2),y=new b(J);;){if(d){if(y=y.times(A),!y.c)break;L?y.c.length>L&&(y.c.length=L):O&&(y=y.mod(E))}if(R){if(R=l(R/2),R===0)break;d=R%2}else if(g=g.times(B),ee(g,g.e+1,1),g.e>14)d=X(g);else{if(R=+ie(g),R===0)break;d=R%2}A=A.times(A),L?A.c&&A.c.length>L&&(A.c.length=L):O&&(A=A.mod(E))}return O?y:(i&&(y=J.div(y)),E?y.mod(E):L?ee(y,Se,I,f):y)},M.integerValue=function(g){var E=new b(this);return g==null?g=I:Y(g,0,8),ee(E,E.e+1,g)},M.isEqualTo=M.eq=function(g,E){return j(this,new b(g,E))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(g,E){return j(this,new b(g,E))>0},M.isGreaterThanOrEqualTo=M.gte=function(g,E){return(E=j(this,new b(g,E)))===1||E===0},M.isInteger=function(){return!!this.c&&$(this.e/_)>this.c.length-2},M.isLessThan=M.lt=function(g,E){return j(this,new b(g,E))<0},M.isLessThanOrEqualTo=M.lte=function(g,E){return(E=j(this,new b(g,E)))===-1||E===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(g,E){var B,O,R,L,f=this,n=f.s;if(g=new b(g,E),E=g.s,!n||!E)return new b(NaN);if(n!=E)return g.s=-E,f.plus(g);var i=f.e/_,d=g.e/_,y=f.c,A=g.c;if(!i||!d){if(!y||!A)return y?(g.s=-E,g):new b(A?f:NaN);if(!y[0]||!A[0])return A[0]?(g.s=-E,g):new b(y[0]?f:I==3?-0:0)}if(i=$(i),d=$(d),y=y.slice(),n=i-d){for((L=n<0)?(n=-n,R=y):(d=i,R=A),R.reverse(),E=n;E--;R.push(0));R.reverse()}else for(O=(L=(n=y.length)<(E=A.length))?n:E,n=E=0;E<O;E++)if(y[E]!=A[E]){L=y[E]<A[E];break}if(L&&(R=y,y=A,A=R,g.s=-g.s),E=(O=A.length)-(B=y.length),E>0)for(;E--;y[B++]=0);for(E=x-1;O>n;){if(y[--O]<A[O]){for(B=O;B&&!y[--B];y[B]=E);--y[B],y[O]+=x}y[O]-=A[O]}for(;y[0]==0;y.splice(0,1),--d);return y[0]?Pe(g,y,d):(g.s=I==3?-1:1,g.c=[g.e=0],g)},M.modulo=M.mod=function(g,E){var B,O,R=this;return g=new b(g,E),!R.c||!g.s||g.c&&!g.c[0]?new b(NaN):!g.c||R.c&&!R.c[0]?new b(R):(Ie==9?(O=g.s,g.s=1,B=W(R,g,0,3),g.s=O,B.s*=O):B=W(R,g,0,Ie),g=R.minus(B.times(g)),!g.c[0]&&Ie==1&&(g.s=R.s),g)},M.multipliedBy=M.times=function(g,E){var B,O,R,L,f,n,i,d,y,A,D,V,Q,ne,le,h=this,s=h.c,a=(g=new b(g,E)).c;if(!s||!a||!s[0]||!a[0])return!h.s||!g.s||s&&!s[0]&&!a||a&&!a[0]&&!s?g.c=g.e=g.s=null:(g.s*=h.s,!s||!a?g.c=g.e=null:(g.c=[0],g.e=0)),g;for(O=$(h.e/_)+$(g.e/_),g.s*=h.s,i=s.length,A=a.length,i<A&&(Q=s,s=a,a=Q,R=i,i=A,A=R),R=i+A,Q=[];R--;Q.push(0));for(ne=x,le=N,R=A;--R>=0;){for(B=0,D=a[R]%le,V=a[R]/le|0,f=i,L=R+f;L>R;)d=s[--f]%le,y=s[f]/le|0,n=V*d+y*D,d=D*d+n%le*le+Q[L]+B,B=(d/ne|0)+(n/le|0)+V*y,Q[L--]=d%ne;Q[L]=B}return B?++O:Q.splice(0,1),Pe(g,Q,O)},M.negated=function(){var g=new b(this);return g.s=-g.s||null,g},M.plus=function(g,E){var B,O=this,R=O.s;if(g=new b(g,E),E=g.s,!R||!E)return new b(NaN);if(R!=E)return g.s=-E,O.minus(g);var L=O.e/_,f=g.e/_,n=O.c,i=g.c;if(!L||!f){if(!n||!i)return new b(R/0);if(!n[0]||!i[0])return i[0]?g:new b(n[0]?O:R*0)}if(L=$(L),f=$(f),n=n.slice(),R=L-f){for(R>0?(f=L,B=i):(R=-R,B=n),B.reverse();R--;B.push(0));B.reverse()}for(R=n.length,E=i.length,R-E<0&&(B=i,i=n,n=B,E=R),R=0;E;)R=(n[--E]=n[E]+i[E]+R)/x|0,n[E]=x===n[E]?0:n[E]%x;return R&&(n=[R].concat(n),++f),Pe(g,n,f)},M.precision=M.sd=function(g,E){var B,O,R,L=this;if(g!=null&&g!==!!g)return Y(g,1,U),E==null?E=I:Y(E,0,8),ee(new b(L),g,E);if(!(B=L.c))return null;if(R=B.length-1,O=R*_+1,R=B[R]){for(;R%10==0;R/=10,O--);for(R=B[0];R>=10;R/=10,O++);}return g&&L.e+1>O&&(O=L.e+1),O},M.shiftedBy=function(g){return Y(g,-F,F),this.times("1e"+g)},M.squareRoot=M.sqrt=function(){var g,E,B,O,R,L=this,f=L.c,n=L.s,i=L.e,d=te+4,y=new b("0.5");if(n!==1||!f||!f[0])return new b(!n||n<0&&(!f||f[0])?NaN:f?L:1/0);if(n=Math.sqrt(+ie(L)),n==0||n==1/0?(E=G(f),(E.length+i)%2==0&&(E+="0"),n=Math.sqrt(+E),i=$((i+1)/2)-(i<0||i%2),n==1/0?E="5e"+i:(E=n.toExponential(),E=E.slice(0,E.indexOf("e")+1)+i),B=new b(E)):B=new b(n+""),B.c[0]){for(i=B.e,n=i+d,n<3&&(n=0);;)if(R=B,B=y.times(R.plus(W(L,R,d,1))),G(R.c).slice(0,n)===(E=G(B.c)).slice(0,n))if(B.e<i&&--n,E=E.slice(n-3,n+1),E=="9999"||!O&&E=="4999"){if(!O&&(ee(R,R.e+te+2,0),R.times(R).eq(L))){B=R;break}d+=4,n+=4,O=1}else{(!+E||!+E.slice(1)&&E.charAt(0)=="5")&&(ee(B,B.e+te+2,1),g=!B.times(B).eq(L));break}}return ee(B,B.e+te+1,I,g)},M.toExponential=function(g,E){return g!=null&&(Y(g,0,U),g++),Re(this,g,E,1)},M.toFixed=function(g,E){return g!=null&&(Y(g,0,U),g=g+this.e+1),Re(this,g,E)},M.toFormat=function(g,E,B){var O,R=this;if(B==null)g!=null&&E&&typeof E=="object"?(B=E,E=null):g&&typeof g=="object"?(B=g,g=E=null):B=ue;else if(typeof B!="object")throw Error(p+"Argument not an object: "+B);if(O=R.toFixed(g,E),R.c){var L,f=O.split("."),n=+B.groupSize,i=+B.secondaryGroupSize,d=B.groupSeparator||"",y=f[0],A=f[1],D=R.s<0,V=D?y.slice(1):y,Q=V.length;if(i&&(L=n,n=i,i=L,Q-=L),n>0&&Q>0){for(L=Q%n||n,y=V.substr(0,L);L<Q;L+=n)y+=d+V.substr(L,n);i>0&&(y+=d+V.slice(L)),D&&(y="-"+y)}O=A?y+(B.decimalSeparator||"")+((i=+B.fractionGroupSize)?A.replace(new RegExp("\\d{"+i+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):A):y}return(B.prefix||"")+O+(B.suffix||"")},M.toFraction=function(g){var E,B,O,R,L,f,n,i,d,y,A,D,V=this,Q=V.c;if(g!=null&&(n=new b(g),!n.isInteger()&&(n.c||n.s!==1)||n.lt(J)))throw Error(p+"Argument "+(n.isInteger()?"out of range: ":"not an integer: ")+ie(n));if(!Q)return new b(V);for(E=new b(J),d=B=new b(J),O=i=new b(J),D=G(Q),L=E.e=D.length-V.e-1,E.c[0]=w[(f=L%_)<0?_+f:f],g=!g||n.comparedTo(E)>0?L>0?E:d:n,f=fe,fe=1/0,n=new b(D),i.c[0]=0;y=W(n,E,0,1),R=B.plus(y.times(O)),R.comparedTo(g)!=1;)B=O,O=R,d=i.plus(y.times(R=d)),i=R,E=n.minus(y.times(R=E)),n=R;return R=W(g.minus(B),O,0,1),i=i.plus(R.times(d)),B=B.plus(R.times(O)),i.s=d.s=V.s,L=L*2,A=W(d,O,L,I).minus(V).abs().comparedTo(W(i,B,L,I).minus(V).abs())<1?[d,O]:[i,B],fe=f,A},M.toNumber=function(){return+ie(this)},M.toPrecision=function(g,E){return g!=null&&Y(g,1,U),Re(this,g,E,2)},M.toString=function(g){var E,B=this,O=B.s,R=B.e;return R===null?O?(E="Infinity",O<0&&(E="-"+E)):E="NaN":(g==null?E=R<=q||R>=Z?se(G(B.c),R):K(G(B.c),R,"0"):g===10&&Le?(B=ee(new b(B),te+R+1,I),E=K(G(B.c),B.e,"0")):(Y(g,2,he.length,"Base"),E=S(K(G(B.c),R,"0"),10,g,O,!0)),O<0&&B.c[0]&&(E="-"+E)),E},M.valueOf=M.toJSON=function(){return ie(this)},M._isBigNumber=!0,z!=null&&b.set(z),b}function $(z){var W=z|0;return z>0||z===W?W:W-1}function G(z){for(var W,S,k=1,M=z.length,J=z[0]+"";k<M;){for(W=z[k++]+"",S=_-W.length;S--;W="0"+W);J+=W}for(M=J.length;J.charCodeAt(--M)===48;);return J.slice(0,M+1||1)}function j(z,W){var S,k,M=z.c,J=W.c,te=z.s,I=W.s,q=z.e,Z=W.e;if(!te||!I)return null;if(S=M&&!M[0],k=J&&!J[0],S||k)return S?k?0:-I:te;if(te!=I)return te;if(S=te<0,k=q==Z,!M||!J)return k?0:!M^S?1:-1;if(!k)return q>Z^S?1:-1;for(I=(q=M.length)<(Z=J.length)?q:Z,te=0;te<I;te++)if(M[te]!=J[te])return M[te]>J[te]^S?1:-1;return q==Z?0:q>Z^S?1:-1}function Y(z,W,S,k){if(z<W||z>S||z!==l(z))throw Error(p+(k||"Argument")+(typeof z=="number"?z<W||z>S?" out of range: ":" not an integer: ":" not a primitive number: ")+String(z))}function X(z){var W=z.c.length-1;return $(z.e/_)==W&&z.c[W]%2!=0}function se(z,W){return(z.length>1?z.charAt(0)+"."+z.slice(1):z)+(W<0?"e":"e+")+W}function K(z,W,S){var k,M;if(W<0){for(M=S+".";++W;M+=S);z=M+z}else if(k=z.length,++W>k){for(M=S,W-=k;--W;M+=S);z+=M}else W<k&&(z=z.slice(0,W)+"."+z.slice(W));return z}r=H(),r.default=r.BigNumber=r,t.exports?t.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(ro)}(Dt)),Dt.exports}var sr,mn;function no(){return mn||(mn=1,sr=function(e,r,c){var u=new e.Uint8Array(c),l=r.pushInt,p=r.pushInt32,o=r.pushInt32Neg,x=r.pushInt64,_=r.pushInt64Neg,F=r.pushFloat,w=r.pushFloatSingle,N=r.pushFloatDouble,U=r.pushTrue,H=r.pushFalse,$=r.pushUndefined,G=r.pushNull,j=r.pushInfinity,Y=r.pushInfinityNeg,X=r.pushNaN,se=r.pushNaNNeg,K=r.pushArrayStart,z=r.pushArrayStartFixed,W=r.pushArrayStartFixed32,S=r.pushArrayStartFixed64,k=r.pushObjectStart,M=r.pushObjectStartFixed,J=r.pushObjectStartFixed32,te=r.pushObjectStartFixed64,I=r.pushByteString,q=r.pushByteStringStart,Z=r.pushUtf8String,re=r.pushUtf8StringStart,fe=r.pushSimpleUnassigned,pe=r.pushTagStart,Ie=r.pushTagStart4,Se=r.pushTagStart8,ue=r.pushTagUnassigned,he=r.pushBreak,Le=e.Math.pow,b=0,Re=0,De=0;function Pe(T){for(T=T|0,b=0,Re=T;(b|0)<(Re|0)&&(De=hs[u[b]&255](u[b]|0)|0,!((De|0)>0)););return De|0}function ee(T){return T=T|0,((b|0)+(T|0)|0)<(Re|0)?0:1}function ie(T){return T=T|0,u[T|0]<<8|u[T+1|0]|0}function g(T){return T=T|0,u[T|0]<<24|u[T+1|0]<<16|u[T+2|0]<<8|u[T+3|0]|0}function E(T){return T=T|0,l(T|0),b=b+1|0,0}function B(T){return T=T|0,ee(1)|0?1:(l(u[b+1|0]|0),b=b+2|0,0)}function O(T){return T=T|0,ee(2)|0?1:(l(ie(b+1|0)|0),b=b+3|0,0)}function R(T){return T=T|0,ee(4)|0?1:(p(ie(b+1|0)|0,ie(b+3|0)|0),b=b+5|0,0)}function L(T){return T=T|0,ee(8)|0?1:(x(ie(b+1|0)|0,ie(b+3|0)|0,ie(b+5|0)|0,ie(b+7|0)|0),b=b+9|0,0)}function f(T){return T=T|0,l(-1-(T-32|0)|0),b=b+1|0,0}function n(T){return T=T|0,ee(1)|0?1:(l(-1-(u[b+1|0]|0)|0),b=b+2|0,0)}function i(T){T=T|0;var ye=0;return ee(2)|0?1:(ye=ie(b+1|0)|0,l(-1-(ye|0)|0),b=b+3|0,0)}function d(T){return T=T|0,ee(4)|0?1:(o(ie(b+1|0)|0,ie(b+3|0)|0),b=b+5|0,0)}function y(T){return T=T|0,ee(8)|0?1:(_(ie(b+1|0)|0,ie(b+3|0)|0,ie(b+5|0)|0,ie(b+7|0)|0),b=b+9|0,0)}function A(T){T=T|0;var ye=0,ge=0,we=0;return we=T-64|0,ee(we|0)|0?1:(ye=b+1|0,ge=(b+1|0)+(we|0)|0,I(ye|0,ge|0),b=ge|0,0)}function D(T){T=T|0;var ye=0,ge=0,we=0;return ee(1)|0||(we=u[b+1|0]|0,ye=b+2|0,ge=(b+2|0)+(we|0)|0,ee(we+1|0)|0)?1:(I(ye|0,ge|0),b=ge|0,0)}function V(T){T=T|0;var ye=0,ge=0,we=0;return ee(2)|0||(we=ie(b+1|0)|0,ye=b+3|0,ge=(b+3|0)+(we|0)|0,ee(we+2|0)|0)?1:(I(ye|0,ge|0),b=ge|0,0)}function Q(T){T=T|0;var ye=0,ge=0,we=0;return ee(4)|0||(we=g(b+1|0)|0,ye=b+5|0,ge=(b+5|0)+(we|0)|0,ee(we+4|0)|0)?1:(I(ye|0,ge|0),b=ge|0,0)}function ne(T){return T=T|0,1}function le(T){return T=T|0,q(),b=b+1|0,0}function h(T){T=T|0;var ye=0,ge=0,we=0;return we=T-96|0,ee(we|0)|0?1:(ye=b+1|0,ge=(b+1|0)+(we|0)|0,Z(ye|0,ge|0),b=ge|0,0)}function s(T){T=T|0;var ye=0,ge=0,we=0;return ee(1)|0||(we=u[b+1|0]|0,ye=b+2|0,ge=(b+2|0)+(we|0)|0,ee(we+1|0)|0)?1:(Z(ye|0,ge|0),b=ge|0,0)}function a(T){T=T|0;var ye=0,ge=0,we=0;return ee(2)|0||(we=ie(b+1|0)|0,ye=b+3|0,ge=(b+3|0)+(we|0)|0,ee(we+2|0)|0)?1:(Z(ye|0,ge|0),b=ge|0,0)}function m(T){T=T|0;var ye=0,ge=0,we=0;return ee(4)|0||(we=g(b+1|0)|0,ye=b+5|0,ge=(b+5|0)+(we|0)|0,ee(we+4|0)|0)?1:(Z(ye|0,ge|0),b=ge|0,0)}function v(T){return T=T|0,1}function C(T){return T=T|0,re(),b=b+1|0,0}function P(T){return T=T|0,z(T-128|0),b=b+1|0,0}function ae(T){return T=T|0,ee(1)|0?1:(z(u[b+1|0]|0),b=b+2|0,0)}function de(T){return T=T|0,ee(2)|0?1:(z(ie(b+1|0)|0),b=b+3|0,0)}function ce(T){return T=T|0,ee(4)|0?1:(W(ie(b+1|0)|0,ie(b+3|0)|0),b=b+5|0,0)}function oe(T){return T=T|0,ee(8)|0?1:(S(ie(b+1|0)|0,ie(b+3|0)|0,ie(b+5|0)|0,ie(b+7|0)|0),b=b+9|0,0)}function xe(T){return T=T|0,K(),b=b+1|0,0}function Ee(T){T=T|0;var ye=0;return ye=T-160|0,ee(ye|0)|0?1:(M(ye|0),b=b+1|0,0)}function Wi(T){return T=T|0,ee(1)|0?1:(M(u[b+1|0]|0),b=b+2|0,0)}function Vi(T){return T=T|0,ee(2)|0?1:(M(ie(b+1|0)|0),b=b+3|0,0)}function ji(T){return T=T|0,ee(4)|0?1:(J(ie(b+1|0)|0,ie(b+3|0)|0),b=b+5|0,0)}function Ji(T){return T=T|0,ee(8)|0?1:(te(ie(b+1|0)|0,ie(b+3|0)|0,ie(b+5|0)|0,ie(b+7|0)|0),b=b+9|0,0)}function Xi(T){return T=T|0,k(),b=b+1|0,0}function at(T){return T=T|0,pe(T-192|0|0),b=b+1|0,0}function Ca(T){return T=T|0,pe(T|0),b=b+1|0,0}function ka(T){return T=T|0,pe(T|0),b=b+1|0,0}function Ga(T){return T=T|0,pe(T|0),b=b+1|0,0}function Ha(T){return T=T|0,pe(T|0),b=b+1|0,0}function Ae(T){return T=T|0,pe(T-192|0|0),b=b+1|0,0}function $a(T){return T=T|0,pe(T|0),b=b+1|0,0}function qa(T){return T=T|0,pe(T|0),b=b+1|0,0}function Ka(T){return T=T|0,pe(T|0),b=b+1|0,0}function Zi(T){return T=T|0,ee(1)|0?1:(pe(u[b+1|0]|0),b=b+2|0,0)}function Qi(T){return T=T|0,ee(2)|0?1:(pe(ie(b+1|0)|0),b=b+3|0,0)}function es(T){return T=T|0,ee(4)|0?1:(Ie(ie(b+1|0)|0,ie(b+3|0)|0),b=b+5|0,0)}function ts(T){return T=T|0,ee(8)|0?1:(Se(ie(b+1|0)|0,ie(b+3|0)|0,ie(b+5|0)|0,ie(b+7|0)|0),b=b+9|0,0)}function _e(T){return T=T|0,fe((T|0)-224|0),b=b+1|0,0}function rs(T){return T=T|0,H(),b=b+1|0,0}function ns(T){return T=T|0,U(),b=b+1|0,0}function is(T){return T=T|0,G(),b=b+1|0,0}function ss(T){return T=T|0,$(),b=b+1|0,0}function os(T){return T=T|0,ee(1)|0?1:(fe(u[b+1|0]|0),b=b+2|0,0)}function as(T){T=T|0;var ye=0,ge=0,we=1,Nt=0,gt=0,za=0;return ee(2)|0?1:(ye=u[b+1|0]|0,ge=u[b+2|0]|0,(ye|0)&128&&(we=-1),Nt=+(((ye|0)&124)>>2),gt=+(((ye|0)&3)<<8|ge),+Nt==0?F(+(+we*5960464477539063e-23*+gt)):+Nt==31?+we==1?+gt>0?X():j():+gt>0?se():Y():F(+(+we*Le(2,+(+Nt-25))*+(1024+gt))),b=b+3|0,0)}function us(T){return T=T|0,ee(4)|0?1:(w(u[b+1|0]|0,u[b+2|0]|0,u[b+3|0]|0,u[b+4|0]|0),b=b+5|0,0)}function cs(T){return T=T|0,ee(8)|0?1:(N(u[b+1|0]|0,u[b+2|0]|0,u[b+3|0]|0,u[b+4|0]|0,u[b+5|0]|0,u[b+6|0]|0,u[b+7|0]|0,u[b+8|0]|0),b=b+9|0,0)}function me(T){return T=T|0,1}function fs(T){return T=T|0,he(),b=b+1|0,0}var hs=[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,B,O,R,L,me,me,me,me,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,n,i,d,y,me,me,me,me,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,D,V,Q,ne,me,me,me,le,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,s,a,m,v,me,me,me,C,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,ae,de,ce,oe,me,me,me,xe,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Wi,Vi,ji,Ji,me,me,me,Xi,at,at,at,at,at,at,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Zi,Qi,es,ts,me,me,me,me,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,rs,ns,is,ss,os,as,us,cs,me,me,me,fs];return{parse:Pe}}),sr}var or={},ve={},bn;function Xt(){if(bn)return ve;bn=1;const t=Jt().BigNumber;return ve.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},ve.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},ve.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},ve.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},ve.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},ve.SHIFT32=Math.pow(2,32),ve.SHIFT16=Math.pow(2,16),ve.MAX_SAFE_HIGH=2097151,ve.NEG_ONE=new t(-1),ve.TEN=new t(10),ve.TWO=new t(2),ve.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5},ve}var En;function Kr(){return En||(En=1,function(t){const{Buffer:e}=jt(),r=Jt().BigNumber,c=Xt(),u=c.SHIFT32,l=c.SHIFT16,p=2097151;t.parseHalf=function(_){var F,w,N;return N=_[0]&128?-1:1,F=(_[0]&124)>>2,w=(_[0]&3)<<8|_[1],F?F===31?N*(w?NaN:1/0):N*Math.pow(2,F-25)*(1024+w):N*5960464477539063e-23*w};function o(x){return x<16?"0"+x.toString(16):x.toString(16)}t.arrayBufferToBignumber=function(x){const _=x.byteLength;let F="";for(let w=0;w<_;w++)F+=o(x[w]);return new r(F,16)},t.buildMap=x=>{const _=new Map,F=Object.keys(x),w=F.length;for(let N=0;N<w;N++)_.set(F[N],x[F[N]]);return _},t.buildInt32=(x,_)=>x*l+_,t.buildInt64=(x,_,F,w)=>{const N=t.buildInt32(x,_),U=t.buildInt32(F,w);return N>p?new r(N).times(u).plus(U):N*u+U},t.writeHalf=function(_,F){const w=e.allocUnsafe(4);w.writeFloatBE(F,0);const N=w.readUInt32BE(0);if((N&8191)!==0)return!1;var U=N>>16&32768;const H=N>>23&255,$=N&8388607;if(H>=113&&H<=142)U+=(H-112<<10)+($>>13);else if(H>=103&&H<113){if($&(1<<126-H)-1)return!1;U+=$+8388608>>126-H}else return!1;return _.writeUInt16BE(U,0),!0},t.keySorter=function(x,_){var F=x[0].byteLength,w=_[0].byteLength;return F>w?1:w>F?-1:x[0].compare(_[0])},t.isNegativeZero=x=>x===0&&1/x<0,t.nextPowerOf2=x=>{let _=0;if(x&&!(x&x-1))return x;for(;x!==0;)x>>=1,_+=1;return 1<<_}}(or)),or}var ar,_n;function Ii(){if(_n)return ar;_n=1;const t=Xt(),e=t.MT,r=t.SIMPLE,c=t.SYMS;class u{constructor(p){if(typeof p!="number")throw new Error("Invalid Simple type: "+typeof p);if(p<0||p>255||(p|0)!==p)throw new Error("value must be a small positive integer: "+p);this.value=p}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(p){return p._pushInt(this.value,e.SIMPLE_FLOAT)}static isSimple(p){return p instanceof u}static decode(p,o){switch(o==null&&(o=!0),p){case r.FALSE:return!1;case r.TRUE:return!0;case r.NULL:return o?null:c.NULL;case r.UNDEFINED:return o?void 0:c.UNDEFINED;case-1:if(!o)throw new Error("Invalid BREAK");return c.BREAK;default:return new u(p)}}}return ar=u,ar}var ur,In;function Ai(){if(In)return ur;In=1;class t{constructor(r,c,u){if(this.tag=r,this.value=c,this.err=u,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(r){return r._pushTag(this.tag),r.pushAny(this.value)}convert(r){var c,u;if(u=r!=null?r[this.tag]:void 0,typeof u!="function"&&(u=t["_tag"+this.tag],typeof u!="function"))return this;try{return u.call(t,this.value)}catch(l){return c=l,this.err=c,this}}}return ur=t,ur}var cr,An;function Bi(){if(An)return cr;An=1;const t=self.location?self.location.protocol+"//"+self.location.host:"",e=self.URL;class r{constructor(l="",p=t){this.super=new e(l,p),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(l){this.super.hash=l}set host(l){this.super.host=l}set hostname(l){this.super.hostname=l}set href(l){this.super.href=l}set origin(l){this.super.origin=l}set password(l){this.super.password=l}set pathname(l){this.super.pathname=l}set port(l){this.super.port=l}set protocol(l){this.super.protocol=l}set search(l){this.super.search=l}set searchParams(l){this.super.searchParams=l}set username(l){this.super.username=l}createObjectURL(l){return this.super.createObjectURL(l)}revokeObjectURL(l){this.super.revokeObjectURL(l)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function c(u){if(typeof u=="string")return new e(u).toString();if(!(u instanceof e)){const l=u.username&&u.password?`${u.username}:${u.password}@`:"",p=u.auth?u.auth+"@":"",o=u.port?":"+u.port:"",x=u.protocol?u.protocol+"//":"",_=u.host||"",F=u.hostname||"",w=u.search||(u.query?"?"+u.query:""),N=u.hash||"",U=u.pathname||"",H=u.path||U+w;return`${x}${l||p}${_||F+o}${H}${N}`}}return cr={URLWithLegacySupport:r,URLSearchParams:self.URLSearchParams,defaultBase:t,format:c},cr}var fr,Bn;function io(){if(Bn)return fr;Bn=1;const{URLWithLegacySupport:t,format:e}=Bi();return fr=(r,c={},u={},l)=>{let p=c.protocol?c.protocol.replace(":",""):"http";p=(u[p]||l||p)+":";let o;try{o=new t(r)}catch{o={}}const x=Object.assign({},c,{protocol:p||o.protocol,host:c.host||o.host});return new t(r,e(x)).toString()},fr}var hr,Sn;function Si(){if(Sn)return hr;Sn=1;const{URLWithLegacySupport:t,format:e,URLSearchParams:r,defaultBase:c}=Bi(),u=io();return hr={URL:t,URLSearchParams:r,format:e,relative:u,defaultBase:c},hr}var lr,Tn;function Ti(){if(Tn)return lr;Tn=1;const{Buffer:t}=jt(),e=Cr(),r=Jt().BigNumber,c=no(),u=Kr(),l=Xt(),p=Ii(),o=Ai(),{URL:x}=Si();class _{constructor(w){w=w||{},!w.size||w.size<65536?w.size=65536:w.size=u.nextPowerOf2(w.size),this._heap=new ArrayBuffer(w.size),this._heap8=new Uint8Array(this._heap),this._buffer=t.from(this._heap),this._reset(),this._knownTags=Object.assign({0:N=>new Date(N),1:N=>new Date(N*1e3),2:N=>u.arrayBufferToBignumber(N),3:N=>l.NEG_ONE.minus(u.arrayBufferToBignumber(N)),4:N=>l.TEN.pow(N[0]).times(N[1]),5:N=>l.TWO.pow(N[0]).times(N[1]),32:N=>new x(N),35:N=>new RegExp(N)},w.tags),this.parser=c(ls,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var w=this._parents.pop();if(w.length>0)throw new Error(`Missing ${w.length} elements`);switch(w.type){case l.PARENT.TAG:this._push(this.createTag(w.ref[0],w.ref[1]));break;case l.PARENT.BYTE_STRING:this._push(this.createByteString(w.ref,w.length));break;case l.PARENT.UTF8_STRING:this._push(this.createUtf8String(w.ref,w.length));break;case l.PARENT.MAP:if(w.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(w.ref,w.length));break;case l.PARENT.OBJECT:if(w.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(w.ref,w.length));break;case l.PARENT.ARRAY:this._push(this.createArray(w.ref,w.length));break}this._currentParent&&this._currentParent.type===l.PARENT.TAG&&this._dec()}_dec(){const w=this._currentParent;w.length<0||(w.length--,w.length===0&&this._closeParent())}_push(w,N){const U=this._currentParent;switch(U.values++,U.type){case l.PARENT.ARRAY:case l.PARENT.BYTE_STRING:case l.PARENT.UTF8_STRING:U.length>-1?this._ref[this._ref.length-U.length]=w:this._ref.push(w),this._dec();break;case l.PARENT.OBJECT:U.tmpKey!=null?(this._ref[U.tmpKey]=w,U.tmpKey=null,this._dec()):(U.tmpKey=w,typeof U.tmpKey!="string"&&(U.type=l.PARENT.MAP,U.ref=u.buildMap(U.ref)));break;case l.PARENT.MAP:U.tmpKey!=null?(this._ref.set(U.tmpKey,w),U.tmpKey=null,this._dec()):U.tmpKey=w;break;case l.PARENT.TAG:this._ref.push(w),N||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(w,N,U){this._parents[this._depth]={type:N,length:U,ref:w,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:l.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(w,N){const U=this._knownTags[w];return U?U(N):new o(w,N)}createMap(w,N){return w}createObject(w,N){return w}createArray(w,N){return w}createByteString(w,N){return t.concat(w)}createByteStringFromHeap(w,N){return w===N?t.alloc(0):t.from(this._heap.slice(w,N))}createInt(w){return w}createInt32(w,N){return u.buildInt32(w,N)}createInt64(w,N,U,H){return u.buildInt64(w,N,U,H)}createFloat(w){return w}createFloatSingle(w,N,U,H){return e.read([w,N,U,H],0,!1,23,4)}createFloatDouble(w,N,U,H,$,G,j,Y){return e.read([w,N,U,H,$,G,j,Y],0,!1,52,8)}createInt32Neg(w,N){return-1-u.buildInt32(w,N)}createInt64Neg(w,N,U,H){const $=u.buildInt32(w,N),G=u.buildInt32(U,H);return $>l.MAX_SAFE_HIGH?l.NEG_ONE.minus(new r($).times(l.SHIFT32).plus(G)):-1-($*l.SHIFT32+G)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(w,N){return w.join("")}createUtf8StringFromHeap(w,N){return w===N?"":this._buffer.toString("utf8",w,N)}createSimpleUnassigned(w){return new p(w)}pushInt(w){this._push(this.createInt(w))}pushInt32(w,N){this._push(this.createInt32(w,N))}pushInt64(w,N,U,H){this._push(this.createInt64(w,N,U,H))}pushFloat(w){this._push(this.createFloat(w))}pushFloatSingle(w,N,U,H){this._push(this.createFloatSingle(w,N,U,H))}pushFloatDouble(w,N,U,H,$,G,j,Y){this._push(this.createFloatDouble(w,N,U,H,$,G,j,Y))}pushInt32Neg(w,N){this._push(this.createInt32Neg(w,N))}pushInt64Neg(w,N,U,H){this._push(this.createInt64Neg(w,N,U,H))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],l.PARENT.ARRAY,-1)}pushArrayStartFixed(w){this._createArrayStartFixed(w)}pushArrayStartFixed32(w,N){const U=u.buildInt32(w,N);this._createArrayStartFixed(U)}pushArrayStartFixed64(w,N,U,H){const $=u.buildInt64(w,N,U,H);this._createArrayStartFixed($)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(w){this._createObjectStartFixed(w)}pushObjectStartFixed32(w,N){const U=u.buildInt32(w,N);this._createObjectStartFixed(U)}pushObjectStartFixed64(w,N,U,H){const $=u.buildInt64(w,N,U,H);this._createObjectStartFixed($)}pushByteStringStart(){this._parents[this._depth]={type:l.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(w,N){this._push(this.createByteStringFromHeap(w,N))}pushUtf8StringStart(){this._parents[this._depth]={type:l.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(w,N){this._push(this.createUtf8StringFromHeap(w,N))}pushSimpleUnassigned(w){this._push(this.createSimpleUnassigned(w))}pushTagStart(w){this._parents[this._depth]={type:l.PARENT.TAG,length:1,ref:[w]}}pushTagStart4(w,N){this.pushTagStart(u.buildInt32(w,N))}pushTagStart8(w,N,U,H){this.pushTagStart(u.buildInt64(w,N,U,H))}pushTagUnassigned(w){this._push(this.createTag(w))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(w){if(w===0){this._push(this.createObject({}));return}this._createParent({},l.PARENT.OBJECT,w)}_createArrayStartFixed(w){if(w===0){this._push(this.createArray([]));return}this._createParent(new Array(w),l.PARENT.ARRAY,w)}_decode(w){if(w.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(w);const N=this.parser.parse(w.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(N>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(w){return this._decode(w),this._res[0]}decodeAll(w){return this._decode(w),this._res}static decode(w,N){return typeof w=="string"&&(w=t.from(w,N||"hex")),new _({size:w.length}).decodeFirst(w)}static decodeAll(w,N){return typeof w=="string"&&(w=t.from(w,N||"hex")),new _({size:w.length}).decodeAll(w)}}return _.decodeFirst=_.decode,lr=_,lr}var dr,Un;function so(){if(Un)return dr;Un=1;const{Buffer:t}=jt(),e=Ti(),r=Kr();class c extends e{createTag(p,o){return`${p}(${o})`}createInt(p){return super.createInt(p).toString()}createInt32(p,o){return super.createInt32(p,o).toString()}createInt64(p,o,x,_){return super.createInt64(p,o,x,_).toString()}createInt32Neg(p,o){return super.createInt32Neg(p,o).toString()}createInt64Neg(p,o,x,_){return super.createInt64Neg(p,o,x,_).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(p){const o=super.createFloat(p);return r.isNegativeZero(p)?"-0_1":`${o}_1`}createFloatSingle(p,o,x,_){return`${super.createFloatSingle(p,o,x,_)}_2`}createFloatDouble(p,o,x,_,F,w,N,U){return`${super.createFloatDouble(p,o,x,_,F,w,N,U)}_3`}createByteString(p,o){const x=p.join(", ");return o===-1?`(_ ${x})`:`h'${x}`}createByteStringFromHeap(p,o){return`h'${t.from(super.createByteStringFromHeap(p,o)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(p){return`simple(${p})`}createArray(p,o){const x=super.createArray(p,o);return o===-1?`[_ ${x.join(", ")}]`:`[${x.join(", ")}]`}createMap(p,o){const x=super.createMap(p),_=Array.from(x.keys()).reduce(u(x),"");return o===-1?`{_ ${_}}`:`{${_}}`}createObject(p,o){const x=super.createObject(p),_=Object.keys(x).reduce(u(x),"");return o===-1?`{_ ${_}}`:`{${_}}`}createUtf8String(p,o){const x=p.join(", ");return o===-1?`(_ ${x})`:`"${x}"`}createUtf8StringFromHeap(p,o){return`"${t.from(super.createUtf8StringFromHeap(p,o)).toString("utf8")}"`}static diagnose(p,o){return typeof p=="string"&&(p=t.from(p,o||"hex")),new c().decodeFirst(p)}}dr=c;function u(l){return(p,o)=>p?`${p}, ${o}: ${l[o]}`:`${o}: ${l[o]}`}return dr}var pr,Nn;function oo(){if(Nn)return pr;Nn=1;const{Buffer:t}=jt(),{URL:e}=Si(),r=Jt().BigNumber,c=Kr(),u=Xt(),l=u.MT,p=u.NUMBYTES,o=u.SHIFT32,x=u.SYMS,_=u.TAG,F=u.MT.SIMPLE_FLOAT<<5|u.NUMBYTES.TWO,w=u.MT.SIMPLE_FLOAT<<5|u.NUMBYTES.FOUR,N=u.MT.SIMPLE_FLOAT<<5|u.NUMBYTES.EIGHT,U=u.MT.SIMPLE_FLOAT<<5|u.SIMPLE.TRUE,H=u.MT.SIMPLE_FLOAT<<5|u.SIMPLE.FALSE,$=u.MT.SIMPLE_FLOAT<<5|u.SIMPLE.UNDEFINED,G=u.MT.SIMPLE_FLOAT<<5|u.SIMPLE.NULL,j=new r("0x20000000000000"),Y=t.from("f97e00","hex"),X=t.from("f9fc00","hex"),se=t.from("f97c00","hex");function K(W){return{}.toString.call(W).slice(8,-1)}class z{constructor(S){S=S||{},this.streaming=typeof S.stream=="function",this.onData=S.stream,this.semanticTypes=[[e,this._pushUrl],[r,this._pushBigNumber]];const k=S.genTypes||[],M=k.length;for(let J=0;J<M;J++)this.addSemanticType(k[J][0],k[J][1]);this._reset()}addSemanticType(S,k){const M=this.semanticTypes.length;for(let J=0;J<M;J++)if(this.semanticTypes[J][0]===S){const I=this.semanticTypes[J][1];return this.semanticTypes[J][1]=k,I}return this.semanticTypes.push([S,k]),null}push(S){return S&&(this.result[this.offset]=S,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=S.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(S,k,M){return this.result[this.offset]=S,this.resultMethod[this.offset]=k,this.resultLength[this.offset]=M,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(S){return this.pushWrite(S,1,1)}_pushUInt16BE(S){return this.pushWrite(S,2,2)}_pushUInt32BE(S){return this.pushWrite(S,3,4)}_pushDoubleBE(S){return this.pushWrite(S,4,8)}_pushNaN(){return this.push(Y)}_pushInfinity(S){const k=S<0?X:se;return this.push(k)}_pushFloat(S){const k=t.allocUnsafe(2);if(c.writeHalf(k,S)&&c.parseHalf(k)===S)return this._pushUInt8(F)&&this.push(k);const M=t.allocUnsafe(4);return M.writeFloatBE(S,0),M.readFloatBE(0)===S?this._pushUInt8(w)&&this.push(M):this._pushUInt8(N)&&this._pushDoubleBE(S)}_pushInt(S,k,M){const J=k<<5;return S<24?this._pushUInt8(J|S):S<=255?this._pushUInt8(J|p.ONE)&&this._pushUInt8(S):S<=65535?this._pushUInt8(J|p.TWO)&&this._pushUInt16BE(S):S<=4294967295?this._pushUInt8(J|p.FOUR)&&this._pushUInt32BE(S):S<=Number.MAX_SAFE_INTEGER?this._pushUInt8(J|p.EIGHT)&&this._pushUInt32BE(Math.floor(S/o))&&this._pushUInt32BE(S%o):k===l.NEG_INT?this._pushFloat(M):this._pushFloat(S)}_pushIntNum(S){return S<0?this._pushInt(-S-1,l.NEG_INT,S):this._pushInt(S,l.POS_INT)}_pushNumber(S){switch(!1){case S===S:return this._pushNaN(S);case isFinite(S):return this._pushInfinity(S);case S%1!==0:return this._pushIntNum(S);default:return this._pushFloat(S)}}_pushString(S){const k=t.byteLength(S,"utf8");return this._pushInt(k,l.UTF8_STRING)&&this.pushWrite(S,5,k)}_pushBoolean(S){return this._pushUInt8(S?U:H)}_pushUndefined(S){return this._pushUInt8($)}_pushArray(S,k){const M=k.length;if(!S._pushInt(M,l.ARRAY))return!1;for(let J=0;J<M;J++)if(!S.pushAny(k[J]))return!1;return!0}_pushTag(S){return this._pushInt(S,l.TAG)}_pushDate(S,k){return S._pushTag(_.DATE_EPOCH)&&S.pushAny(Math.round(k/1e3))}_pushBuffer(S,k){return S._pushInt(k.length,l.BYTE_STRING)&&S.push(k)}_pushNoFilter(S,k){return S._pushBuffer(S,k.slice())}_pushRegexp(S,k){return S._pushTag(_.REGEXP)&&S.pushAny(k.source)}_pushSet(S,k){if(!S._pushInt(k.size,l.ARRAY))return!1;for(const M of k)if(!S.pushAny(M))return!1;return!0}_pushUrl(S,k){return S._pushTag(_.URI)&&S.pushAny(k.format())}_pushBigint(S){let k=_.POS_BIGINT;S.isNegative()&&(S=S.negated().minus(1),k=_.NEG_BIGINT);let M=S.toString(16);M.length%2&&(M="0"+M);const J=t.from(M,"hex");return this._pushTag(k)&&this._pushBuffer(this,J)}_pushBigNumber(S,k){if(k.isNaN())return S._pushNaN();if(!k.isFinite())return S._pushInfinity(k.isNegative()?-1/0:1/0);if(k.isInteger())return S._pushBigint(k);if(!(S._pushTag(_.DECIMAL_FRAC)&&S._pushInt(2,l.ARRAY)))return!1;const M=k.decimalPlaces(),J=k.multipliedBy(new r(10).pow(M));return S._pushIntNum(-M)?J.abs().isLessThan(j)?S._pushIntNum(J.toNumber()):S._pushBigint(J):!1}_pushMap(S,k){return S._pushInt(k.size,l.MAP)?this._pushRawMap(k.size,Array.from(k)):!1}_pushObject(S){if(!S)return this._pushUInt8(G);for(var k=this.semanticTypes.length,M=0;M<k;M++)if(S instanceof this.semanticTypes[M][0])return this.semanticTypes[M][1].call(S,this,S);var J=S.encodeCBOR;if(typeof J=="function")return J.call(S,this);var te=Object.keys(S),I=te.length;return this._pushInt(I,l.MAP)?this._pushRawMap(I,te.map(q=>[q,S[q]])):!1}_pushRawMap(S,k){k=k.map(function(J){return J[0]=z.encode(J[0]),J}).sort(c.keySorter);for(var M=0;M<S;M++)if(!this.push(k[M][0])||!this.pushAny(k[M][1]))return!1;return!0}write(S){return this.pushAny(S)}pushAny(S){var k=K(S);switch(k){case"Number":return this._pushNumber(S);case"String":return this._pushString(S);case"Boolean":return this._pushBoolean(S);case"Object":return this._pushObject(S);case"Array":return this._pushArray(this,S);case"Uint8Array":return this._pushBuffer(this,t.isBuffer(S)?S:t.from(S));case"Null":return this._pushUInt8(G);case"Undefined":return this._pushUndefined(S);case"Map":return this._pushMap(this,S);case"Set":return this._pushSet(this,S);case"URL":return this._pushUrl(this,S);case"BigNumber":return this._pushBigNumber(this,S);case"Date":return this._pushDate(this,S);case"RegExp":return this._pushRegexp(this,S);case"Symbol":switch(S){case x.NULL:return this._pushObject(null);case x.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+S.toString())}default:throw new Error("Unknown type: "+typeof S+", "+(S?S.toString():""))}}finalize(){if(this.offset===0)return null;for(var S=this.result,k=this.resultLength,M=this.resultMethod,J=this.offset,te=0,I=0;I<J;I++)te+=k[I];var q=t.allocUnsafe(te),Z=0,re=0;for(I=0;I<J;I++){switch(re=k[I],M[I]){case 0:S[I].copy(q,Z);break;case 1:q.writeUInt8(S[I],Z,!0);break;case 2:q.writeUInt16BE(S[I],Z,!0);break;case 3:q.writeUInt32BE(S[I],Z,!0);break;case 4:q.writeDoubleBE(S[I],Z,!0);break;case 5:q.write(S[I],Z,re,"utf8");break;default:throw new Error("unkown method")}Z+=re}var fe=q;return this._reset(),fe}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(S){const k=new z;if(!k.pushAny(S))throw new Error("Failed to encode input");return k.finalize()}}return pr=z,pr}var vn;function ao(){return vn||(vn=1,function(t){t.Diagnose=so(),t.Decoder=Ti(),t.Encoder=oo(),t.Simple=Ii(),t.Tagged=Ai(),t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}}(nr)),nr}var uo=ao();const Ui=ds(uo);function it(t){return _t(Ks.create().update(new Uint8Array(t)).digest())}function Pt(t){if(t instanceof Ui.Tagged)return Pt(t.value);if(typeof t=="string")return Ni(t);if(typeof t=="number")return it(wn(t));if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return it(t);if(Array.isArray(t)){const e=t.map(Pt);return it(Bt(...e))}else{if(t&&typeof t=="object"&&t._isPrincipal)return it(t.toUint8Array());if(typeof t=="object"&&t!==null&&typeof t.toHash=="function")return Pt(t.toHash());if(typeof t=="object")return vi(t);if(typeof t=="bigint")return it(wn(t))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${t}`),{value:t})}const Ni=t=>{const e=new TextEncoder().encode(t);return it(e)};function zr(t){return vi(t)}function vi(t){const c=Object.entries(t).filter(([,p])=>p!==void 0).map(([p,o])=>{const x=Ni(p),_=Pt(o);return[x,_]}).sort(([p],[o])=>yi(p,o)),u=Bt(...c.map(p=>Bt(...p)));return it(u)}var co=function(t,e){var r={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&e.indexOf(c)<0&&(r[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,c=Object.getOwnPropertySymbols(t);u<c.length;u++)e.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(t,c[u])&&(r[c[u]]=t[c[u]]);return r};const fo=new TextEncoder().encode(`
ic-request`);class Yr{getPrincipal(){return this._principal||(this._principal=tt.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){const{body:r}=e,c=co(e,["body"]),u=zr(r);return Object.assign(Object.assign({},c),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Bt(fo,u))}})}}class Fn{getPrincipal(){return tt.anonymous()}async transformRequest(e){return Object.assign(Object.assign({},e),{body:{content:e.body}})}}var mt={},qe={},be={},Rn;function Fi(){if(Rn)return be;Rn=1,Object.defineProperty(be,"__esModule",{value:!0});const t=9007199254740992;function e(I,...q){const Z=new Uint8Array(I.byteLength+q.reduce((fe,pe)=>fe+pe.byteLength,0));Z.set(new Uint8Array(I),0);let re=I.byteLength;for(const fe of q)Z.set(new Uint8Array(fe),re),re+=fe.byteLength;return Z.buffer}function r(I,q,Z){Z=Z.replace(/[^0-9a-fA-F]/g,"");const re=2**(q-24);Z=Z.slice(-re*2).padStart(re*2,"0");const fe=[(I<<5)+q].concat(Z.match(/../g).map(pe=>parseInt(pe,16)));return new Uint8Array(fe).buffer}function c(I,q){if(q<24)return new Uint8Array([(I<<5)+q]).buffer;{const Z=q<=255?24:q<=65535?25:q<=4294967295?26:27;return r(I,Z,q.toString(16))}}function u(I){const q=[];for(let Z=0;Z<I.length;Z++){let re=I.charCodeAt(Z);re<128?q.push(re):re<2048?q.push(192|re>>6,128|re&63):re<55296||re>=57344?q.push(224|re>>12,128|re>>6&63,128|re&63):(Z++,re=(re&1023)<<10|I.charCodeAt(Z)&1023,q.push(240|re>>18,128|re>>12&63,128|re>>6&63,128|re&63))}return e(new Uint8Array(c(3,I.length)),new Uint8Array(q))}function l(I,q){if(I==14277111)return e(new Uint8Array([217,217,247]),q);if(I<24)return e(new Uint8Array([192+I]),q);{const Z=I<=255?24:I<=65535?25:I<=4294967295?26:27,re=2**(Z-24),fe=I.toString(16).slice(-re*2).padStart(re*2,"0"),pe=[192+Z].concat(fe.match(/../g).map(Ie=>parseInt(Ie,16)));return new Uint8Array(pe).buffer}}be.tagged=l;function p(I){return new Uint8Array(I).buffer}be.raw=p;function o(I){if(isNaN(I))throw new RangeError("Invalid number.");I=Math.min(Math.max(0,I),23);const q=[0+I];return new Uint8Array(q).buffer}be.uSmall=o;function x(I,q){if(I=parseInt(""+I,q),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,I),255),I=I.toString(16),r(0,24,I)}be.u8=x;function _(I,q){if(I=parseInt(""+I,q),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,I),65535),I=I.toString(16),r(0,25,I)}be.u16=_;function F(I,q){if(I=parseInt(""+I,q),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,I),4294967295),I=I.toString(16),r(0,26,I)}be.u32=F;function w(I,q){if(typeof I=="string"&&q==16){if(I.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return r(0,27,I)}if(I=parseInt(""+I,q),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,I),t),I=I.toString(16),r(0,27,I)}be.u64=w;function N(I){if(isNaN(I))throw new RangeError("Invalid number.");if(I===0)return o(0);I=Math.min(Math.max(0,-I),24)-1;const q=[32+I];return new Uint8Array(q).buffer}be.iSmall=N;function U(I,q){if(I=parseInt(""+I,q),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,-I-1),255),I=I.toString(16),r(1,24,I)}be.i8=U;function H(I,q){if(I=parseInt(""+I,q),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,-I-1),65535),I=I.toString(16),r(1,25,I)}be.i16=H;function $(I,q){if(I=parseInt(""+I,q),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,-I-1),4294967295),I=I.toString(16),r(1,26,I)}be.i32=$;function G(I,q){if(typeof I=="string"&&q==16){if(I.startsWith("-")?I=I.slice(1):I="0",I.match(/[^0-9a-fA-F]/)||I.length>16)throw new RangeError("Invalid number.");let Z=!1,re=I.split("").reduceRight((fe,pe)=>{if(Z)return pe+fe;let Ie=parseInt(pe,16)-1;return Ie>=0?(Z=!0,Ie.toString(16)+fe):"f"+fe},"");return Z?r(1,27,re):w(0)}if(I=parseInt(""+I,q),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,-I-1),9007199254740992),I=I.toString(16),r(1,27,I)}be.i64=G;function j(I){return I>=0?I<24?o(I):I<=255?x(I):I<=65535?_(I):I<=4294967295?F(I):w(I):I>=-24?N(I):I>=-255?U(I):I>=-65535?H(I):I>=-4294967295?$(I):G(I)}be.number=j;function Y(I){return e(c(2,I.byteLength),I)}be.bytes=Y;function X(I){return u(I)}be.string=X;function se(I){return e(c(4,I.length),...I)}be.array=se;function K(I,q=!1){I instanceof Map||(I=new Map(Object.entries(I)));let Z=Array.from(I.entries());return q&&(Z=Z.sort(([re],[fe])=>re.localeCompare(fe))),e(c(5,I.size),...Z.map(([re,fe])=>e(u(re),fe)))}be.map=K;function z(I){const q=new Float32Array([I]);return e(new Uint8Array([250]),new Uint8Array(q.buffer))}be.singleFloat=z;function W(I){const q=new Float64Array([I]);return e(new Uint8Array([251]),new Uint8Array(q.buffer))}be.doubleFloat=W;function S(I){return I?k():M()}be.bool=S;function k(){return p(new Uint8Array([245]))}be.true_=k;function M(){return p(new Uint8Array([244]))}be.false_=M;function J(){return p(new Uint8Array([246]))}be.null_=J;function te(){return p(new Uint8Array([247]))}return be.undefined_=te,be}var On;function ho(){if(On)return qe;On=1;var t=qe&&qe.__importStar||function(o){if(o&&o.__esModule)return o;var x={};if(o!=null)for(var _ in o)Object.hasOwnProperty.call(o,_)&&(x[_]=o[_]);return x.default=o,x};Object.defineProperty(qe,"__esModule",{value:!0});const e=t(Fi()),r=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class c{constructor(x,_=!1){this._serializer=x,this._stable=_,this.name="jsonDefault",this.priority=-100}match(x){return["undefined","boolean","number","string","object"].indexOf(typeof x)!=-1}encode(x){switch(typeof x){case"undefined":return e.undefined_();case"boolean":return e.bool(x);case"number":return Math.floor(x)===x?e.number(x):e.doubleFloat(x);case"string":return e.string(x);case"object":if(x===null)return e.null_();if(Array.isArray(x))return e.array(x.map(_=>this._serializer.serializeValue(_)));if(r.find(_=>x instanceof _))return e.bytes(x.buffer);if(Object.getOwnPropertyNames(x).indexOf("toJSON")!==-1)return this.encode(x.toJSON());if(x instanceof Map){const _=new Map;for(const[F,w]of x.entries())_.set(F,this._serializer.serializeValue(w));return e.map(_,this._stable)}else{const _=new Map;for(const[F,w]of Object.entries(x))_.set(F,this._serializer.serializeValue(w));return e.map(_,this._stable)}default:throw new Error("Invalid value.")}}}qe.JsonDefaultCborEncoder=c;class u{constructor(){this.name="cborEncoder",this.priority=-90}match(x){return typeof x=="object"&&typeof x.toCBOR=="function"}encode(x){return x.toCBOR()}}qe.ToCborEncoder=u;class l{constructor(){this._encoders=new Set}static withDefaultEncoders(x=!1){const _=new this;return _.addEncoder(new c(_,x)),_.addEncoder(new u),_}removeEncoder(x){for(const _ of this._encoders.values())_.name==x&&this._encoders.delete(_)}addEncoder(x){this._encoders.add(x)}getEncoderFor(x){let _=null;for(const F of this._encoders)(!_||F.priority>_.priority)&&F.match(x)&&(_=F);if(_===null)throw new Error("Could not find an encoder for value.");return _}serializeValue(x){return this.getEncoderFor(x).encode(x)}serialize(x){return this.serializeValue(x)}}qe.CborSerializer=l;class p extends l{serialize(x){return e.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(x))]))}}return qe.SelfDescribeCborSerializer=p,qe}var Ln;function lo(){return Ln||(Ln=1,function(t){function e(u){for(var l in u)t.hasOwnProperty(l)||(t[l]=u[l])}var r=mt&&mt.__importStar||function(u){if(u&&u.__esModule)return u;var l={};if(u!=null)for(var p in u)Object.hasOwnProperty.call(u,p)&&(l[p]=u[p]);return l.default=u,l};Object.defineProperty(t,"__esModule",{value:!0}),e(ho());const c=r(Fi());t.value=c}(mt)),mt}var Oe=lo();class po{get name(){return"Principal"}get priority(){return 0}match(e){return e&&e._isPrincipal===!0}encode(e){return Oe.value.bytes(e.toUint8Array())}}class wo{get name(){return"Buffer"}get priority(){return 1}match(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}encode(e){return Oe.value.bytes(new Uint8Array(e))}}class yo{get name(){return"BigInt"}get priority(){return 1}match(e){return typeof e=="bigint"}encode(e){return e>BigInt(0)?Oe.value.tagged(2,Oe.value.bytes(rt(e.toString(16)))):Oe.value.tagged(3,Oe.value.bytes(rt((BigInt("-1")*e).toString(16))))}}const Wr=Oe.SelfDescribeCborSerializer.withDefaultEncoders(!0);Wr.addEncoder(new po);Wr.addEncoder(new wo);Wr.addEncoder(new yo);var Dn;(function(t){t[t.Uint64LittleEndian=71]="Uint64LittleEndian",t[t.Semantic=55799]="Semantic"})(Dn||(Dn={}));class Wa extends Ui.Decoder{createByteString(e){return Bt(...e)}createByteStringFromHeap(e,r){return e===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(e,r))}}var Pn;(function(t){t.Call="call"})(Pn||(Pn={}));BigInt(1e6);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vr=BigInt(0),Nr=BigInt(1);function vr(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Ri(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Vr:BigInt("0x"+t)}function go(t){return Ri(kr(t))}function $t(t){return ot(t),Ri(kr(Uint8Array.from(t).reverse()))}function Oi(t,e){return hi(t.toString(16).padStart(e*2,"0"))}function jr(t,e){return Oi(t,e).reverse()}function Ke(t,e,r){let c;if(typeof e=="string")try{c=hi(e)}catch(l){throw new Error(t+" must be hex string or Uint8Array, cause: "+l)}else if(ci(e))c=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const u=c.length;if(typeof r=="number"&&u!==r)throw new Error(t+" of length "+r+" expected, got "+u);return c}const wr=t=>typeof t=="bigint"&&Vr<=t;function xo(t,e,r){return wr(t)&&wr(e)&&wr(r)&&e<=t&&t<r}function Et(t,e,r,c){if(!xo(e,r,c))throw new Error("expected valid "+t+": "+r+" <= n < "+c+", got "+e)}function mo(t){let e;for(e=0;t>Vr;t>>=Nr,e+=1);return e}const Jr=t=>(Nr<<BigInt(t))-Nr;function Xr(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function c(u,l,p){const o=t[u];if(p&&o===void 0)return;const x=typeof o;if(x!==l||o===null)throw new Error(`param "${u}" is invalid: expected ${l}, got ${x}`)}Object.entries(e).forEach(([u,l])=>c(u,l,!1)),Object.entries(r).forEach(([u,l])=>c(u,l,!0))}function Mn(t){const e=new WeakMap;return(r,...c)=>{const u=e.get(r);if(u!==void 0)return u;const l=t(r,...c);return e.set(r,l),l}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fe=BigInt(0),Ne=BigInt(1),st=BigInt(2),bo=BigInt(3),Li=BigInt(4),Di=BigInt(5),Pi=BigInt(8);function Be(t,e){const r=t%e;return r>=Fe?r:e+r}function Ce(t,e,r){let c=t;for(;e-- >Fe;)c*=c,c%=r;return c}function Cn(t,e){if(t===Fe)throw new Error("invert: expected non-zero number");if(e<=Fe)throw new Error("invert: expected positive modulus, got "+e);let r=Be(t,e),c=e,u=Fe,l=Ne;for(;r!==Fe;){const o=c/r,x=c%r,_=u-l*o;c=r,r=x,u=l,l=_}if(c!==Ne)throw new Error("invert: does not exist");return Be(u,e)}function Mi(t,e){const r=(t.ORDER+Ne)/Li,c=t.pow(e,r);if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function Eo(t,e){const r=(t.ORDER-Di)/Pi,c=t.mul(e,st),u=t.pow(c,r),l=t.mul(e,u),p=t.mul(t.mul(l,st),u),o=t.mul(l,t.sub(p,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function _o(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ne,r=0;for(;e%st===Fe;)e/=st,r++;let c=st;const u=Zt(t);for(;kn(u,c)===1;)if(c++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Mi;let l=u.pow(c,e);const p=(e+Ne)/st;return function(x,_){if(x.is0(_))return _;if(kn(x,_)!==1)throw new Error("Cannot find square root");let F=r,w=x.mul(x.ONE,l),N=x.pow(_,e),U=x.pow(_,p);for(;!x.eql(N,x.ONE);){if(x.is0(N))return x.ZERO;let H=1,$=x.sqr(N);for(;!x.eql($,x.ONE);)if(H++,$=x.sqr($),H===F)throw new Error("Cannot find square root");const G=Ne<<BigInt(F-H-1),j=x.pow(w,G);F=H,w=x.sqr(j),N=x.mul(N,w),U=x.mul(U,j)}return U}}function Io(t){return t%Li===bo?Mi:t%Pi===Di?Eo:_o(t)}const Ao=(t,e)=>(Be(t,e)&Ne)===Ne,Bo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function So(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Bo.reduce((c,u)=>(c[u]="function",c),e);return Xr(t,r),t}function To(t,e,r){if(r<Fe)throw new Error("invalid exponent, negatives unsupported");if(r===Fe)return t.ONE;if(r===Ne)return e;let c=t.ONE,u=e;for(;r>Fe;)r&Ne&&(c=t.mul(c,u)),u=t.sqr(u),r>>=Ne;return c}function Ci(t,e,r=!1){const c=new Array(e.length).fill(r?t.ZERO:void 0),u=e.reduce((p,o,x)=>t.is0(o)?p:(c[x]=p,t.mul(p,o)),t.ONE),l=t.inv(u);return e.reduceRight((p,o,x)=>t.is0(o)?p:(c[x]=t.mul(p,c[x]),t.mul(p,o)),l),c}function kn(t,e){const r=(t.ORDER-Ne)/st,c=t.pow(e,r),u=t.eql(c,t.ONE),l=t.eql(c,t.ZERO),p=t.eql(c,t.neg(t.ONE));if(!u&&!l&&!p)throw new Error("invalid Legendre symbol result");return u?1:l?0:-1}function Uo(t,e){e!==void 0&&ms(e);const r=e!==void 0?e:t.toString(2).length,c=Math.ceil(r/8);return{nBitLength:r,nByteLength:c}}function Zt(t,e,r=!1,c={}){if(t<=Fe)throw new Error("invalid field: expected ORDER > 0, got "+t);let u,l;if(typeof e=="object"&&e!=null){if(c.sqrt||r)throw new Error("cannot specify opts in two arguments");const F=e;F.BITS&&(u=F.BITS),F.sqrt&&(l=F.sqrt),typeof F.isLE=="boolean"&&(r=F.isLE)}else typeof e=="number"&&(u=e),c.sqrt&&(l=c.sqrt);const{nBitLength:p,nByteLength:o}=Uo(t,u);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let x;const _=Object.freeze({ORDER:t,isLE:r,BITS:p,BYTES:o,MASK:Jr(p),ZERO:Fe,ONE:Ne,create:F=>Be(F,t),isValid:F=>{if(typeof F!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof F);return Fe<=F&&F<t},is0:F=>F===Fe,isValidNot0:F=>!_.is0(F)&&_.isValid(F),isOdd:F=>(F&Ne)===Ne,neg:F=>Be(-F,t),eql:(F,w)=>F===w,sqr:F=>Be(F*F,t),add:(F,w)=>Be(F+w,t),sub:(F,w)=>Be(F-w,t),mul:(F,w)=>Be(F*w,t),pow:(F,w)=>To(_,F,w),div:(F,w)=>Be(F*Cn(w,t),t),sqrN:F=>F*F,addN:(F,w)=>F+w,subN:(F,w)=>F-w,mulN:(F,w)=>F*w,inv:F=>Cn(F,t),sqrt:l||(F=>(x||(x=Io(t)),x(_,F))),toBytes:F=>r?jr(F,o):Oi(F,o),fromBytes:F=>{if(F.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+F.length);return r?$t(F):go(F)},invertBatch:F=>Ci(_,F),cmov:(F,w,N)=>N?w:F});return Object.freeze(_)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qt=BigInt(0),Fr=BigInt(1);function yr(t,e){const r=e.negate();return t?r:e}function No(t,e,r){const c=p=>p.ez,u=Ci(t.Fp,r.map(c));return r.map((p,o)=>p.toAffine(u[o])).map(t.fromAffine)}function ki(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function gr(t,e){ki(t,e);const r=Math.ceil(e/t)+1,c=2**(t-1),u=2**t,l=Jr(t),p=BigInt(t);return{windows:r,windowSize:c,mask:l,maxNumber:u,shiftBy:p}}function Gn(t,e,r){const{windowSize:c,mask:u,maxNumber:l,shiftBy:p}=r;let o=Number(t&u),x=t>>p;o>c&&(o-=l,x+=Fr);const _=e*c,F=_+Math.abs(o)-1,w=o===0,N=o<0,U=e%2!==0;return{nextN:x,offset:F,isZero:w,isNeg:N,isNegF:U,offsetF:_}}function vo(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,c)=>{if(!(r instanceof e))throw new Error("invalid point at index "+c)})}function Fo(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,c)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+c)})}const xr=new WeakMap,Gi=new WeakMap;function mr(t){return Gi.get(t)||1}function Hn(t){if(t!==qt)throw new Error("invalid wNAF")}function Ro(t,e){return{constTimeNegate:yr,hasPrecomputes(r){return mr(r)!==1},unsafeLadder(r,c,u=t.ZERO){let l=r;for(;c>qt;)c&Fr&&(u=u.add(l)),l=l.double(),c>>=Fr;return u},precomputeWindow(r,c){const{windows:u,windowSize:l}=gr(c,e),p=[];let o=r,x=o;for(let _=0;_<u;_++){x=o,p.push(x);for(let F=1;F<l;F++)x=x.add(o),p.push(x);o=x.double()}return p},wNAF(r,c,u){let l=t.ZERO,p=t.BASE;const o=gr(r,e);for(let x=0;x<o.windows;x++){const{nextN:_,offset:F,isZero:w,isNeg:N,isNegF:U,offsetF:H}=Gn(u,x,o);u=_,w?p=p.add(yr(U,c[H])):l=l.add(yr(N,c[F]))}return Hn(u),{p:l,f:p}},wNAFUnsafe(r,c,u,l=t.ZERO){const p=gr(r,e);for(let o=0;o<p.windows&&u!==qt;o++){const{nextN:x,offset:_,isZero:F,isNeg:w}=Gn(u,o,p);if(u=x,!F){const N=c[_];l=l.add(w?N.negate():N)}}return Hn(u),l},getPrecomputes(r,c,u){let l=xr.get(c);return l||(l=this.precomputeWindow(c,r),r!==1&&(typeof u=="function"&&(l=u(l)),xr.set(c,l))),l},wNAFCached(r,c,u){const l=mr(r);return this.wNAF(l,this.getPrecomputes(l,r,u),c)},wNAFCachedUnsafe(r,c,u,l){const p=mr(r);return p===1?this.unsafeLadder(r,c,l):this.wNAFUnsafe(p,this.getPrecomputes(p,r,u),c,l)},setWindowSize(r,c){ki(c,e),Gi.set(r,c),xr.delete(r)}}}function Oo(t,e,r,c){vo(r,t),Fo(c,e);const u=r.length,l=c.length;if(u!==l)throw new Error("arrays of points and scalars must have equal length");const p=t.ZERO,o=mo(BigInt(u));let x=1;o>12?x=o-3:o>4?x=o-2:o>0&&(x=2);const _=Jr(x),F=new Array(Number(_)+1).fill(p),w=Math.floor((e.BITS-1)/x)*x;let N=p;for(let U=w;U>=0;U-=x){F.fill(p);for(let $=0;$<l;$++){const G=c[$],j=Number(G>>BigInt(U)&_);F[j]=F[j].add(r[$])}let H=p;for(let $=F.length-1,G=p;$>0;$--)G=G.add(F[$]),H=H.add(G);if(N=N.add(H),U!==0)for(let $=0;$<x;$++)N=N.double()}return N}function $n(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return So(e),e}else return Zt(t)}function Lo(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const x=e[o];if(!(typeof x=="bigint"&&x>qt))throw new Error(`CURVE.${o} must be positive bigint`)}const c=$n(e.p,r.Fp),u=$n(e.n,r.Fn),p=["Gx","Gy","a","d"];for(const o of p)if(!c.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:c,Fn:u}}var qn;(function(t){t[t.Empty=0]="Empty",t[t.Fork=1]="Fork",t[t.Labeled=2]="Labeled",t[t.Leaf=3]="Leaf",t[t.Pruned=4]="Pruned"})(qn||(qn={}));rt("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100");var Kn;(function(t){t.Unknown="unknown",t.Absent="absent",t.Found="found"})(Kn||(Kn={}));var zn;(function(t){t.Less="less",t.Greater="greater"})(zn||(zn={}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ke=BigInt(0),Ue=BigInt(1),br=BigInt(2),Do=BigInt(8),Po={zip215:!0};function Mo(t,e,r,c){const u=t.sqr(r),l=t.sqr(c),p=t.add(t.mul(e.a,u),l),o=t.add(t.ONE,t.mul(e.d,t.mul(u,l)));return t.eql(p,o)}function Co(t,e={}){const{Fp:r,Fn:c}=Lo("edwards",t,e),{h:u,n:l}=t;Xr(e,{},{uvRatio:"function"});const p=br<<BigInt(c.BYTES*8)-Ue,o=$=>r.create($),x=e.uvRatio||(($,G)=>{try{return{isValid:!0,value:r.sqrt(r.div($,G))}}catch{return{isValid:!1,value:ke}}});if(!Mo(r,t,t.Gx,t.Gy))throw new Error("bad curve params: generator point");function _($,G,j=!1){const Y=j?Ue:ke;return Et("coordinate "+$,G,Y,p),G}function F($){if(!($ instanceof U))throw new Error("ExtendedPoint expected")}const w=Mn(($,G)=>{const{ex:j,ey:Y,ez:X}=$,se=$.is0();G==null&&(G=se?Do:r.inv(X));const K=o(j*G),z=o(Y*G),W=o(X*G);if(se)return{x:ke,y:Ue};if(W!==Ue)throw new Error("invZ was invalid");return{x:K,y:z}}),N=Mn($=>{const{a:G,d:j}=t;if($.is0())throw new Error("bad point: ZERO");const{ex:Y,ey:X,ez:se,et:K}=$,z=o(Y*Y),W=o(X*X),S=o(se*se),k=o(S*S),M=o(z*G),J=o(S*o(M+W)),te=o(k+o(j*o(z*W)));if(J!==te)throw new Error("bad point: equation left != right (1)");const I=o(Y*X),q=o(se*K);if(I!==q)throw new Error("bad point: equation left != right (2)");return!0});class U{constructor(G,j,Y,X){this.ex=_("x",G),this.ey=_("y",j),this.ez=_("z",Y,!0),this.et=_("t",X),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(G){if(G instanceof U)throw new Error("extended point not allowed");const{x:j,y:Y}=G||{};return _("x",j),_("y",Y),new U(j,Y,Ue,o(j*Y))}static normalizeZ(G){return No(U,"ez",G)}static msm(G,j){return Oo(U,c,G,j)}_setWindowSize(G){this.precompute(G)}precompute(G=8,j=!0){return H.setWindowSize(this,G),j||this.multiply(br),this}assertValidity(){N(this)}equals(G){F(G);const{ex:j,ey:Y,ez:X}=this,{ex:se,ey:K,ez:z}=G,W=o(j*z),S=o(se*X),k=o(Y*z),M=o(K*X);return W===S&&k===M}is0(){return this.equals(U.ZERO)}negate(){return new U(o(-this.ex),this.ey,this.ez,o(-this.et))}double(){const{a:G}=t,{ex:j,ey:Y,ez:X}=this,se=o(j*j),K=o(Y*Y),z=o(br*o(X*X)),W=o(G*se),S=j+Y,k=o(o(S*S)-se-K),M=W+K,J=M-z,te=W-K,I=o(k*J),q=o(M*te),Z=o(k*te),re=o(J*M);return new U(I,q,re,Z)}add(G){F(G);const{a:j,d:Y}=t,{ex:X,ey:se,ez:K,et:z}=this,{ex:W,ey:S,ez:k,et:M}=G,J=o(X*W),te=o(se*S),I=o(z*Y*M),q=o(K*k),Z=o((X+se)*(W+S)-J-te),re=q-I,fe=q+I,pe=o(te-j*J),Ie=o(Z*re),Se=o(fe*pe),ue=o(Z*pe),he=o(re*fe);return new U(Ie,Se,he,ue)}subtract(G){return this.add(G.negate())}multiply(G){const j=G;Et("scalar",j,Ue,l);const{p:Y,f:X}=H.wNAFCached(this,j,U.normalizeZ);return U.normalizeZ([Y,X])[0]}multiplyUnsafe(G,j=U.ZERO){const Y=G;return Et("scalar",Y,ke,l),Y===ke?U.ZERO:this.is0()||Y===Ue?this:H.wNAFCachedUnsafe(this,Y,U.normalizeZ,j)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return H.wNAFCachedUnsafe(this,l).is0()}toAffine(G){return w(this,G)}clearCofactor(){return u===Ue?this:this.multiplyUnsafe(u)}static fromBytes(G,j=!1){return ot(G),this.fromHex(G,j)}static fromHex(G,j=!1){const{d:Y,a:X}=t,se=r.BYTES;G=Ke("pointHex",G,se),vr("zip215",j);const K=G.slice(),z=G[se-1];K[se-1]=z&-129;const W=$t(K),S=j?p:r.ORDER;Et("pointHex.y",W,ke,S);const k=o(W*W),M=o(k-Ue),J=o(Y*k-X);let{isValid:te,value:I}=x(M,J);if(!te)throw new Error("Point.fromHex: invalid y coordinate");const q=(I&Ue)===Ue,Z=(z&128)!==0;if(!j&&I===ke&&Z)throw new Error("Point.fromHex: x=0 and x_0=1");return Z!==q&&(I=o(-I)),U.fromAffine({x:I,y:W})}static fromPrivateScalar(G){return U.BASE.multiply(G)}toBytes(){const{x:G,y:j}=this.toAffine(),Y=jr(j,r.BYTES);return Y[Y.length-1]|=G&Ue?128:0,Y}toRawBytes(){return this.toBytes()}toHex(){return kr(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}U.BASE=new U(t.Gx,t.Gy,Ue,o(t.Gx*t.Gy)),U.ZERO=new U(ke,Ue,Ue,ke),U.Fp=r,U.Fn=c;const H=Ro(U,c.BYTES*8);return U}function ko(t,e){Xr(e,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r,hash:c}=e,{BASE:u,Fp:l,Fn:p}=t,o=p.ORDER,x=e.randomBytes||As,_=e.adjustScalarBytes||(K=>K),F=e.domain||((K,z,W)=>{if(vr("phflag",W),z.length||W)throw new Error("Contexts/pre-hash are not supported");return K});function w(K){return p.create(K)}function N(K){return w($t(K))}function U(K){const z=l.BYTES;K=Ke("private key",K,z);const W=Ke("hashed private key",c(K),2*z),S=_(W.slice(0,z)),k=W.slice(z,2*z),M=N(S);return{head:S,prefix:k,scalar:M}}function H(K){const{head:z,prefix:W,scalar:S}=U(K),k=u.multiply(S),M=k.toBytes();return{head:z,prefix:W,scalar:S,point:k,pointBytes:M}}function $(K){return H(K).pointBytes}function G(K=Uint8Array.of(),...z){const W=cn(...z);return N(c(F(W,Ke("context",K),!!r)))}function j(K,z,W={}){K=Ke("message",K),r&&(K=r(K));const{prefix:S,scalar:k,pointBytes:M}=H(z),J=G(W.context,S,K),te=u.multiply(J).toBytes(),I=G(W.context,te,M,K),q=w(J+I*k);Et("signature.s",q,ke,o);const Z=l.BYTES,re=cn(te,jr(q,Z));return Ke("result",re,Z*2)}const Y=Po;function X(K,z,W,S=Y){const{context:k,zip215:M}=S,J=l.BYTES;K=Ke("signature",K,2*J),z=Ke("message",z),W=Ke("publicKey",W,J),M!==void 0&&vr("zip215",M),r&&(z=r(z));const te=$t(K.slice(J,2*J));let I,q,Z;try{I=t.fromHex(W,M),q=t.fromHex(K.slice(0,J),M),Z=u.multiplyUnsafe(te)}catch{return!1}if(!M&&I.isSmallOrder())return!1;const re=G(k,q.toBytes(),I.toBytes(),z);return q.add(I.multiplyUnsafe(re)).subtract(Z).clearCofactor().is0()}return u.precompute(8),{getPublicKey:$,sign:j,verify:X,utils:{getExtendedPublicKey:H,randomPrivateKey:()=>x(l.BYTES),precompute(K=8,z=t.BASE){return z.precompute(K,!1)}},Point:t}}function Go(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,c=Zt(e.n,t.nBitLength,!0),u={Fp:r,Fn:c,uvRatio:t.uvRatio},l={hash:t.hash,randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:u,eddsaOpts:l}}function Ho(t,e){return Object.assign({},e,{ExtendedPoint:e.Point,CURVE:t})}function $o(t){const{CURVE:e,curveOpts:r,eddsaOpts:c}=Go(t),u=Co(e,r),l=ko(u,c);return Ho(t,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const qo=BigInt(1),Yn=BigInt(2);BigInt(3);const Ko=BigInt(5),zo=BigInt(8),Qt={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:zo,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Yo(t){const e=BigInt(10),r=BigInt(20),c=BigInt(40),u=BigInt(80),l=Qt.p,o=t*t%l*t%l,x=Ce(o,Yn,l)*o%l,_=Ce(x,qo,l)*t%l,F=Ce(_,Ko,l)*_%l,w=Ce(F,e,l)*F%l,N=Ce(w,r,l)*w%l,U=Ce(N,c,l)*N%l,H=Ce(U,u,l)*U%l,$=Ce(H,u,l)*U%l,G=Ce($,e,l)*F%l;return{pow_p_5_8:Ce(G,Yn,l)*t%l,b2:o}}function Wo(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Wn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Vo(t,e){const r=Qt.p,c=Be(e*e*e,r),u=Be(c*c*e,r),l=Yo(t*u).pow_p_5_8;let p=Be(t*c*l,r);const o=Be(e*p*p,r),x=p,_=Be(p*Wn,r),F=o===t,w=o===Be(-t,r),N=o===Be(-t*Wn,r);return F&&(p=x),(w||N)&&(p=_),Ao(p,r)&&(p=Be(-p,r)),{isValid:F||w,value:p}}const jo=Zt(Qt.p,void 0,!0),Jo={...Qt,Fp:jo,hash:qs,adjustScalarBytes:Wo,uvRatio:Vo},bt=$o(Jo),Vn=t=>{if(t<=127)return 1;if(t<=255)return 2;if(t<=65535)return 3;if(t<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},jn=(t,e,r)=>{if(r<=127)return t[e]=r,1;if(r<=255)return t[e]=129,t[e+1]=r,2;if(r<=65535)return t[e]=130,t[e+1]=r>>8,t[e+2]=r,3;if(r<=16777215)return t[e]=131,t[e+1]=r>>16,t[e+2]=r>>8,t[e+3]=r,4;throw new Error("Length too long (> 4 bytes)")},Rr=(t,e)=>{if(t[e]<128)return 1;if(t[e]===128)throw new Error("Invalid length 0");if(t[e]===129)return 2;if(t[e]===130)return 3;if(t[e]===131)return 4;throw new Error("Length too long (> 4 bytes)")},Xo=(t,e)=>{const r=Rr(t,e);if(r===1)return t[e];if(r===2)return t[e+1];if(r===3)return(t[e+1]<<8)+t[e+2];if(r===4)return(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Jn=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function Zo(t,e){const r=2+Vn(t.byteLength+1),c=e.byteLength+r+t.byteLength;let u=0;const l=new Uint8Array(1+Vn(c)+c);return l[u++]=48,u+=jn(l,u,c),l.set(e,u),u+=e.byteLength,l[u++]=3,u+=jn(l,u,t.byteLength+1),l[u++]=0,l.set(new Uint8Array(t),u),l}const Qo=(t,e)=>{let r=0;const c=(o,x)=>{if(u[r++]!==o)throw new Error("Expected: "+x)},u=new Uint8Array(t);if(c(48,"sequence"),r+=Rr(u,r),!gi(u.slice(r,r+e.byteLength),e))throw new Error("Not the expected OID.");r+=e.byteLength,c(3,"bit string");const l=Xo(u,r)-1;r+=Rr(u,r),c(0,"0 padding");const p=u.slice(r);if(l!==p.length)throw new Error(`DER payload mismatch: Expected length ${l} actual length ${p.length}`);return p};var Xn;(function(t){t.Received="received",t.Processing="processing",t.Replied="replied",t.Rejected="rejected",t.Unknown="unknown",t.Done="done"})(Xn||(Xn={}));var Zn;(function(t){t.Error="err",t.GetPrincipal="gp",t.GetPrincipalResponse="gpr",t.Query="q",t.QueryResponse="qr",t.Call="c",t.CallResponse="cr",t.ReadState="rs",t.ReadStateResponse="rsr",t.Status="s",t.StatusResponse="sr"})(Zn||(Zn={}));var Kt=function(t,e,r,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!u:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(t,r):u?u.value=r:e.set(t,r),r},Xe=function(t,e,r,c){if(r==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!c:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?c:r==="a"?c.call(t):c?c.value:e.get(t)},Mt,Ct,lt,dt;function Qn(t){return t!==null&&typeof t=="object"}class Ge{constructor(e){if(Mt.set(this,void 0),Ct.set(this,void 0),e.byteLength!==Ge.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Kt(this,Mt,It(e),"f"),Kt(this,Ct,Ge.derEncode(e),"f")}static from(e){if(typeof e=="string"){const r=rt(e);return this.fromRaw(r)}else if(Qn(e)){const r=e;if(Qn(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const c=r;return this.fromRaw(It(c.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(e){return new Ge(e)}static fromDer(e){return new Ge(this.derDecode(e))}static derEncode(e){const r=Zo(e,Jn).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(e){const r=Qo(e,Jn);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return It(r)}get rawKey(){return Xe(this,Mt,"f")}get derKey(){return Xe(this,Ct,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}Mt=new WeakMap,Ct=new WeakMap;Ge.RAW_KEY_LENGTH=32;class et extends Yr{constructor(e,r){super(),lt.set(this,void 0),dt.set(this,void 0),Kt(this,lt,Ge.from(e),"f"),Kt(this,dt,new Uint8Array(r),"f")}static generate(e){if(e&&e.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");e||(e=bt.utils.randomPrivateKey()),gi(e,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let u=0;u<32;u++)r[u]=new Uint8Array(e)[u];const c=bt.getPublicKey(r);return et.fromKeyPair(c,r)}static fromParsedJson(e){const[r,c]=e;return new et(Ge.fromDer(rt(r)),rt(c))}static fromJSON(e){const r=JSON.parse(e);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(e)}`)}static fromKeyPair(e,r){return new et(Ge.fromRaw(e),r)}static fromSecretKey(e){const r=bt.getPublicKey(new Uint8Array(e));return et.fromKeyPair(r,e)}toJSON(){return[pt(Xe(this,lt,"f").toDer()),pt(Xe(this,dt,"f"))]}getKeyPair(){return{secretKey:Xe(this,dt,"f"),publicKey:Xe(this,lt,"f")}}getPublicKey(){return Xe(this,lt,"f")}async sign(e){const r=new Uint8Array(e),c=_t(bt.sign(r,Xe(this,dt,"f").slice(0,32)));return Object.defineProperty(c,"__signature__",{enumerable:!1,value:void 0}),c}static verify(e,r,c){const[u,l,p]=[e,r,c].map(o=>(typeof o=="string"&&(o=rt(o)),o instanceof Uint8Array&&(o=It(o.buffer)),new Uint8Array(o)));return bt.verify(u,l,p)}}lt=new WeakMap,dt=new WeakMap;class Zr extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,Zr.prototype)}}function ei(t){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(t)return t;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new Zr("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class St extends Yr{constructor(e,r,c){super(),this._keyPair=e,this._derKey=r,this._subtleCrypto=c}static async generate(e){const{extractable:r=!1,keyUsages:c=["sign","verify"],subtleCrypto:u}=e??{},l=ei(u),p=await l.generateKey({name:"ECDSA",namedCurve:"P-256"},r,c),o=await l.exportKey("spki",p.publicKey);return new this(p,o,l)}static async fromKeyPair(e,r){const c=ei(r),u=await c.exportKey("spki",e.publicKey);return new St(e,u,c)}getKeyPair(){return this._keyPair}getPublicKey(){const e=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return e},r}async sign(e){const r={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(r,this._keyPair.privateKey,e)}}var ea=function(t,e,r,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!u:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(t,r):u?u.value=r:e.set(t,r),r},ht=function(t,e,r,c){if(r==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!c:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?c:r==="a"?c.call(t):c?c.value:e.get(t)},ze;class ta{constructor(e){ze.set(this,void 0),ea(this,ze,e,"f")}get rawKey(){return ht(this,ze,"f").rawKey}get derKey(){return ht(this,ze,"f").derKey}toDer(){return ht(this,ze,"f").toDer()}getPublicKey(){return ht(this,ze,"f")}getPrincipal(){if(!ht(this,ze,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return tt.fromUint8Array(new Uint8Array(ht(this,ze,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}ze=new WeakMap;var ra=function(t,e,r,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!u:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(t,r):u?u.value=r:e.set(t,r),r},na=function(t,e,r,c){if(r==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!c:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?c:r==="a"?c.call(t):c?c.value:e.get(t)},ia=function(t,e){var r={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&e.indexOf(c)<0&&(r[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,c=Object.getOwnPropertySymbols(t);u<c.length;u++)e.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(t,c[u])&&(r[c[u]]=t[c[u]]);return r},kt;const sa=new TextEncoder().encode("ic-request-auth-delegation"),oa=new TextEncoder().encode(`
ic-request`);function Er(t){if(typeof t!="string"||t.length<64)throw new Error("Invalid public key.");return rt(t)}class Qr{constructor(e,r,c){this.pubkey=e,this.expiration=r,this.targets=c}toCBOR(){return Oe.value.map(Object.assign({pubkey:Oe.value.bytes(this.pubkey),expiration:Oe.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:Oe.value.array(this.targets.map(e=>Oe.value.bytes(yt(e.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:pt(this.pubkey)},this.targets&&{targets:this.targets.map(e=>e.toHex())})}}async function aa(t,e,r,c){const u=new Qr(e.toDer(),BigInt(+r)*BigInt(1e6),c),l=new Uint8Array([...sa,...new Uint8Array(zr(Object.assign({},u)))]),p=await t.sign(yt(l));return{delegation:u,signature:p}}class Tt{constructor(e,r){this.delegations=e,this.publicKey=r}static async create(e,r,c=new Date(Date.now()+15*60*1e3),u={}){var l,p;const o=await aa(e,r,c,u.targets);return new Tt([...((l=u.previous)===null||l===void 0?void 0:l.delegations)||[],o],((p=u.previous)===null||p===void 0?void 0:p.publicKey)||e.getPublicKey().toDer())}static fromJSON(e){const{publicKey:r,delegations:c}=typeof e=="string"?JSON.parse(e):e;if(!Array.isArray(c))throw new Error("Invalid delegations.");const u=c.map(l=>{const{delegation:p,signature:o}=l,{pubkey:x,expiration:_,targets:F}=p;if(F!==void 0&&!Array.isArray(F))throw new Error("Invalid targets.");return{delegation:new Qr(Er(x),BigInt("0x"+_),F&&F.map(w=>{if(typeof w!="string")throw new Error("Invalid target.");return tt.fromHex(w)})),signature:Er(o)}});return new this(u,Er(r))}static fromDelegations(e,r){return new this(e,r)}toJSON(){return{delegations:this.delegations.map(e=>{const{delegation:r,signature:c}=e,{targets:u}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:pt(r.pubkey)},u&&{targets:u.map(l=>l.toHex())}),signature:pt(c)}}),publicKey:pt(this.publicKey)}}}class Or extends Yr{constructor(e,r){super(),this._inner=e,this._delegation=r}static fromDelegation(e,r){return new this(e,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){const{body:r}=e,c=ia(e,["body"]),u=await zr(r);return Object.assign(Object.assign({},c),{body:{content:r,sender_sig:await this.sign(yt(new Uint8Array([...oa,...new Uint8Array(u)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class zt extends ta{constructor(e,r){super(e),kt.set(this,void 0),ra(this,kt,r,"f")}get delegation(){return na(this,kt,"f")}static fromDelegation(e,r){return new zt(e,r)}}kt=new WeakMap;function ua(t,e){for(const{delegation:c}of t.delegations)if(+new Date(Number(c.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[];for(const c of r){const u=c.toText();for(const{delegation:l}of t.delegations){if(l.targets===void 0)continue;let p=!0;for(const o of l.targets)if(o.toText()===u){p=!1;break}if(p)return!1}}return!0}var ti;(function(t){t[t.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(ti||(ti={}));const ri=["mousedown","mousemove","keydown","touchstart","wheel"];class ni{constructor(e={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:c,idleTimeout:u=10*60*1e3}=e||{};this.callbacks=c?[c]:[],this.idleTimeout=u;const l=this._resetTimer.bind(this);window.addEventListener("load",l,!0),ri.forEach(function(o){document.addEventListener(o,l,!0)});const p=(o,x)=>{let _;return(...F)=>{const w=this,N=function(){_=void 0,o.apply(w,F)};clearTimeout(_),_=window.setTimeout(N,x)}};if(e!=null&&e.captureScroll){const o=p(l,(r=e==null?void 0:e.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",o,!0)}l()}static create(e={}){return new this(e)}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const e=this._resetTimer.bind(this);ri.forEach(function(r){document.removeEventListener(r,e,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}}const ca=(t,e)=>e.some(r=>t instanceof r);let ii,si;function fa(){return ii||(ii=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ha(){return si||(si=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hi=new WeakMap,Lr=new WeakMap,$i=new WeakMap,_r=new WeakMap,en=new WeakMap;function la(t){const e=new Promise((r,c)=>{const u=()=>{t.removeEventListener("success",l),t.removeEventListener("error",p)},l=()=>{r(nt(t.result)),u()},p=()=>{c(t.error),u()};t.addEventListener("success",l),t.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&Hi.set(r,t)}).catch(()=>{}),en.set(e,t),e}function da(t){if(Lr.has(t))return;const e=new Promise((r,c)=>{const u=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",p),t.removeEventListener("abort",p)},l=()=>{r(),u()},p=()=>{c(t.error||new DOMException("AbortError","AbortError")),u()};t.addEventListener("complete",l),t.addEventListener("error",p),t.addEventListener("abort",p)});Lr.set(t,e)}let Dr={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Lr.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$i.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return nt(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pa(t){Dr=t(Dr)}function wa(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const c=t.call(Ir(this),e,...r);return $i.set(c,e.sort?e.sort():[e]),nt(c)}:ha().includes(t)?function(...e){return t.apply(Ir(this),e),nt(Hi.get(this))}:function(...e){return nt(t.apply(Ir(this),e))}}function ya(t){return typeof t=="function"?wa(t):(t instanceof IDBTransaction&&da(t),ca(t,fa())?new Proxy(t,Dr):t)}function nt(t){if(t instanceof IDBRequest)return la(t);if(_r.has(t))return _r.get(t);const e=ya(t);return e!==t&&(_r.set(t,e),en.set(e,t)),e}const Ir=t=>en.get(t);function ga(t,e,{blocked:r,upgrade:c,blocking:u,terminated:l}={}){const p=indexedDB.open(t,e),o=nt(p);return c&&p.addEventListener("upgradeneeded",x=>{c(nt(p.result),x.oldVersion,x.newVersion,nt(p.transaction),x)}),r&&p.addEventListener("blocked",x=>r(x.oldVersion,x.newVersion,x)),o.then(x=>{l&&x.addEventListener("close",()=>l()),u&&x.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),o}const xa=["get","getKey","getAll","getAllKeys","count"],ma=["put","add","delete","clear"],Ar=new Map;function oi(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ar.get(e))return Ar.get(e);const r=e.replace(/FromIndex$/,""),c=e!==r,u=ma.includes(r);if(!(r in(c?IDBIndex:IDBObjectStore).prototype)||!(u||xa.includes(r)))return;const l=async function(p,...o){const x=this.transaction(p,u?"readwrite":"readonly");let _=x.store;return c&&(_=_.index(o.shift())),(await Promise.all([_[r](...o),u&&x.done]))[0]};return Ar.set(e,l),l}pa(t=>({...t,get:(e,r,c)=>oi(e,r)||t.get(e,r,c),has:(e,r)=>!!oi(e,r)||t.has(e,r)}));const qi="auth-client-db",Ki="ic-keyval",ba=async(t=qi,e=Ki,r)=>(zi&&(localStorage!=null&&localStorage.getItem(Qe))&&(localStorage.removeItem(Qe),localStorage.removeItem(Ze)),await ga(t,r,{upgrade:c=>{c.objectStoreNames.contains(e)&&c.clear(e),c.createObjectStore(e)}}));async function Ea(t,e,r){return await t.get(e,r)}async function _a(t,e,r,c){return await t.put(e,c,r)}async function Ia(t,e,r){return await t.delete(e,r)}class tn{constructor(e,r){this._db=e,this._storeName=r}static async create(e){const{dbName:r=qi,storeName:c=Ki,version:u=Ta}=e??{},l=await ba(r,c,u);return new tn(l,c)}async set(e,r){return await _a(this._db,this._storeName,e,r)}async get(e){var r;return(r=await Ea(this._db,this._storeName,e))!==null&&r!==void 0?r:null}async remove(e){return await Ia(this._db,this._storeName,e)}}var Aa=function(t,e,r,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!u:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(t,r):u?u.value=r:e.set(t,r),r},Ba=function(t,e,r,c){if(r==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!c:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?c:r==="a"?c.call(t):c?c.value:e.get(t)},Gt;const Ze="identity",Qe="delegation",Sa="iv",Ta=1,zi=typeof window<"u";class Ua{constructor(e="ic-",r){this.prefix=e,this._localStorage=r}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,r){return this._getLocalStorage().setItem(this.prefix+e,r),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!e)throw new Error("Could not find local storage.");return e}}class Na{constructor(e){Gt.set(this,void 0),Aa(this,Gt,e??{},"f")}get _db(){return new Promise(e=>{if(this.initializedDb){e(this.initializedDb);return}tn.create(Ba(this,Gt,"f")).then(r=>{this.initializedDb=r,e(r)})})}async get(e){return await(await this._db).get(e)}async set(e,r){await(await this._db).set(e,r)}async remove(e){await(await this._db).remove(e)}}Gt=new WeakMap;const va="https://identity.internetcomputer.org",Fa="#authorize",Br="ECDSA",Sr="Ed25519",Ra=500,Oa="UserInterrupt";class La{constructor(e,r,c,u,l,p,o,x){this._identity=e,this._key=r,this._chain=c,this._storage=u,this.idleManager=l,this._createOptions=p,this._idpWindow=o,this._eventHandler=x,this._registerDefaultIdleCallback()}static async create(e={}){var r,c,u;const l=(r=e.storage)!==null&&r!==void 0?r:new Na,p=(c=e.keyType)!==null&&c!==void 0?c:Br;let o=null;if(e.identity)o=e.identity;else{let w=await l.get(Ze);if(!w&&zi)try{const N=new Ua,U=await N.get(Qe),H=await N.get(Ze);U&&H&&p===Br&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await l.set(Qe,U),await l.set(Ze,H),w=U,await N.remove(Qe),await N.remove(Ze))}catch(N){console.error("error while attempting to recover localstorage: "+N)}if(w)try{typeof w=="object"?p===Sr&&typeof w=="string"?o=await et.fromJSON(w):o=await St.fromKeyPair(w):typeof w=="string"&&(o=et.fromJSON(w))}catch{}}let x=new Fn,_=null;if(o)try{const w=await l.get(Qe);if(typeof w=="object"&&w!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?x=e.identity:w&&(_=Tt.fromJSON(w),ua(_)?"toDer"in o?x=zt.fromDelegation(o,_):x=Or.fromDelegation(o,_):(await Tr(l),o=null))}catch(w){console.error(w),await Tr(l),o=null}let F;return!((u=e.idleOptions)===null||u===void 0)&&u.disableIdle?F=void 0:(_||e.identity)&&(F=ni.create(e.idleOptions)),o||(p===Sr?(o=await et.generate(),await l.set(Ze,JSON.stringify(o.toJSON()))):(e.storage&&p===Br&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Sr}' as the key type, as it can serialize to a string`),o=await St.generate(),await l.set(Ze,o.getKeyPair()))),new this(x,o,_,l,F,e)}_registerDefaultIdleCallback(){var e,r;const c=(e=this._createOptions)===null||e===void 0?void 0:e.idleOptions;!(c!=null&&c.onIdle)&&!(c!=null&&c.disableDefaultIdleCallback)&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(e,r){var c,u;const l=e.delegations.map(_=>({delegation:new Qr(_.delegation.pubkey,_.delegation.expiration,_.delegation.targets),signature:_.signature.buffer})),p=Tt.fromDelegations(l,e.userPublicKey.buffer),o=this._key;if(!o)return;this._chain=p,"toDer"in o?this._identity=zt.fromDelegation(o,this._chain):this._identity=Or.fromDelegation(o,this._chain),(c=this._idpWindow)===null||c===void 0||c.close();const x=(u=this._createOptions)===null||u===void 0?void 0:u.idleOptions;!this.idleManager&&!(x!=null&&x.disableIdle)&&(this.idleManager=ni.create(x),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Qe,JSON.stringify(this._chain.toJSON())),r==null||r(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(e){var r,c,u,l;const p=BigInt(8)*BigInt(36e11),o=new URL(((r=e==null?void 0:e.identityProvider)===null||r===void 0?void 0:r.toString())||va);o.hash=Fa,(c=this._idpWindow)===null||c===void 0||c.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(o,Object.assign({maxTimeToLive:(u=e==null?void 0:e.maxTimeToLive)!==null&&u!==void 0?u:p},e)),window.addEventListener("message",this._eventHandler),this._idpWindow=(l=window.open(o.toString(),"idpWindow",e==null?void 0:e.windowOpenerFeatures))!==null&&l!==void 0?l:void 0;const x=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(Oa,e==null?void 0:e.onError):setTimeout(x,Ra))};x()}_getEventHandler(e,r){return async c=>{var u,l,p;if(c.origin!==e.origin)return;const o=c.data;switch(o.kind){case"authorize-ready":{const x=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((u=this._key)===null||u===void 0?void 0:u.getPublicKey().toDer()),maxTimeToLive:r==null?void 0:r.maxTimeToLive,allowPinAuthentication:r==null?void 0:r.allowPinAuthentication,derivationOrigin:(l=r==null?void 0:r.derivationOrigin)===null||l===void 0?void 0:l.toString()},r==null?void 0:r.customValues);(p=this._idpWindow)===null||p===void 0||p.postMessage(x,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(o,r==null?void 0:r.onSuccess)}catch(x){this._handleFailure(x.message,r==null?void 0:r.onError)}break;case"authorize-client-failure":this._handleFailure(o.text,r==null?void 0:r.onError);break}}}_handleFailure(e,r){var c;(c=this._idpWindow)===null||c===void 0||c.close(),r==null||r(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await Tr(this._storage),this._identity=new Fn,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch{window.location.href=e.returnTo}}}async function Tr(t){await t.remove(Ze),await t.remove(Qe),await t.remove(Sa)}let Pr;var Yi=window.location.href,ai=Yi.indexOf("sessionKey=");if(ai!==-1){var Da=Yi.substring(ai+11);const t=Uint8Array.from(Buffer.from(Da,"hex"));Pr=Ge.fromDer(t)}let Mr;const Pa=document.getElementById("loginBtn");Pa.onclick=async t=>{t.preventDefault();var e=await St.generate();let r=await La.create({identity:e});console.log("before auth client"),await new Promise(u=>{r.login({identityProvider:"https://identity.ic0.app/#authorize",onSuccess:u})}),console.log("after auth client");const c=r.getIdentity();return console.log(c),console.log("Principal:",c.getPrincipal().toString()),Pr!=null&&c instanceof Or&&(console.log("dwadw"),Mr=await Tt.create(e,Pr,new Date(Date.now()+15*60*1e3),{previous:c.getDelegation()}),Ma()),!1};function Ma(){if(Mr==null)return alert("Invalid delegation chain."),!1;var t=JSON.stringify(Mr.toJson());const r=`greenspace://callbackAuth?delegation=${encodeURIComponent(t)}`;return window.location.href=r,!1}
